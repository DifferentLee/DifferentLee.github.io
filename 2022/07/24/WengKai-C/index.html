<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>翁恺哥哥的C | 下水道灵魂画手</title><meta name="author" content="DifferentLee"><meta name="copyright" content="DifferentLee"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Day 1  计算机如何解决问题 计算机什么也不会，它只会按照指令去做事，我们需要把步骤串起来，所以我们需要使用编程语言去指挥计算机该做什么。 所有计算机去做的东西，我们都叫计算，并不只局限于加减乘除等，包括，画一张图，放一部电影，这些都叫计算。 那计算的步骤呢，就叫算法 algorithm. 算法是程序的灵魂，算法 + 数据结构 &#x3D; 程序，数据结构即用整型，浮点，字符串，数组，指针还是结构体…">
<meta property="og:type" content="article">
<meta property="og:title" content="翁恺哥哥的C">
<meta property="og:url" content="http://example.com/2022/07/24/WengKai-C/index.html">
<meta property="og:site_name" content="下水道灵魂画手">
<meta property="og:description" content="Day 1  计算机如何解决问题 计算机什么也不会，它只会按照指令去做事，我们需要把步骤串起来，所以我们需要使用编程语言去指挥计算机该做什么。 所有计算机去做的东西，我们都叫计算，并不只局限于加减乘除等，包括，画一张图，放一部电影，这些都叫计算。 那计算的步骤呢，就叫算法 algorithm. 算法是程序的灵魂，算法 + 数据结构 &#x3D; 程序，数据结构即用整型，浮点，字符串，数组，指针还是结构体…">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/DustinPoirier10.jpg">
<meta property="article:published_time" content="2022-07-24T08:11:23.000Z">
<meta property="article:modified_time" content="2022-11-12T03:33:40.771Z">
<meta property="article:author" content="DifferentLee">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/DustinPoirier10.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/07/24/WengKai-C/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '翁恺哥哥的C',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-11-12 11:33:40'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"><link rel="alternate" href="/atom.xml" title="下水道灵魂画手" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/WangYouSheng.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 小牛马的主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 小牛马的档案</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 小牛马的标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 小牛马的分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/./img/DustinPoirier10.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">下水道灵魂画手</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 小牛马的主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 小牛马的档案</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 小牛马的标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 小牛马的分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">翁恺哥哥的C</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-07-24T08:11:23.000Z" title="发表于 2022-07-24 16:11:23">2022-07-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-12T03:33:40.771Z" title="更新于 2022-11-12 11:33:40">2022-11-12</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="翁恺哥哥的C"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="day-1"><a class="markdownIt-Anchor" href="#day-1"></a> Day 1</h1>
<h2 id="计算机如何解决问题"><a class="markdownIt-Anchor" href="#计算机如何解决问题"></a> 计算机如何解决问题</h2>
<p>计算机什么也不会，它只会按照指令去做事，我们需要把步骤串起来，所以我们需要使用编程语言去指挥计算机该做什么。</p>
<p>所有计算机去做的东西，我们都叫计算，并不只局限于加减乘除等，包括，画一张图，放一部电影，这些都叫计算。</p>
<p>那计算的步骤呢，就叫算法 algorithm.</p>
<p>算法是程序的灵魂，算法 + 数据结构 = 程序，数据结构即用整型，浮点，字符串，数组，指针还是结构体……<br />
做一个图书管理系统，下面就是数据的结构设计举例：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="keyword">class</span> <span class="title">Book</span>&#123;</span></span><br><span class="line">			<span class="built_in">string</span> 书名</span><br><span class="line">			<span class="type">int</span> price; <span class="comment">//浮点不精确，不适合算钱</span></span><br><span class="line">			<span class="type">int</span> 页数;</span><br><span class="line">			<span class="type">int</span> bId;</span><br><span class="line">			</span><br><span class="line">			<span class="type">int</span> 出版商ID;</span><br><span class="line">			<span class="type">int</span> 作者ID;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="class"><span class="keyword">struct</span> 出版社;</span></span><br><span class="line">		<span class="class"><span class="keyword">struct</span> 作者&#123;</span></span><br><span class="line">			<span class="type">int</span> 作者id;</span><br><span class="line">			名称</span><br><span class="line">			年龄</span><br><span class="line">			体重</span><br><span class="line">			三围</span><br><span class="line">		</span><br><span class="line">		&#125;;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// 本图书管理系统的所有书籍</span></span><br><span class="line">		Book books[<span class="number">1000</span>];</span><br><span class="line">		作者 作者s[<span class="number">100</span>];</span><br><span class="line">		作者<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i= <span class="number">0</span>; i&lt; 作者.size(); i++))&#123;</span><br><span class="line">			<span class="keyword">if</span>(book1.作者id == 作者s[i].id)&#123;</span><br><span class="line">				作者<span class="number">1</span> = 作者s[i];</span><br><span class="line">			&#125;</span><br><span class="line">		</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<h2 id="计算机的思维方式"><a class="markdownIt-Anchor" href="#计算机的思维方式"></a> 计算机的思维方式</h2>
<p>枚举，二分，…</p>
<p>程序的执行，源代码-&gt;机器语言</p>
<ol>
<li>
<p>解释<br />
有一个程序，能够读懂我写的程序，它会看懂我的程序并读入我的程序并，转身让计算机去做</p>
<p>类似同声传译</p>
</li>
<li>
<p>编译<br />
有一个程序，它也能读懂我的程序，它能把我的源代码，翻译成机器语言，然后，它会把这个翻译以后的，计算机能懂的机器语言，保存下来，以后，我的程序想执行时，它会直接拿原来翻译好的程序去让计算机执行，这个翻译的过程叫做编译。</p>
<p>类似书面翻译交纸质的。</p>
</li>
</ol>
<p>对于计算机编程语言来说，语言本身是没有编译和解释之分的，任何一种语言既可以解释执行也可以编译执行，这仅仅是传统和习惯问题，只是，这种语言它常用的程序执行方式，比如，也有人去做C语言的解释器。</p>
<p>过去我们常常说，解释语言比较慢，因为需要一条条去执行，但现在计算机的计算速度已经到了一个非常高的程度，和编译型语言的运行效率已经差别不大了。只是传统和喜好的问题。</p>
<h2 id="为什么是c"><a class="markdownIt-Anchor" href="#为什么是c"></a> 为什么是C</h2>
<p>C/C++语言才很多场合时唯一的选择，比如做操作系统，嵌入式系统.</p>
<p>上世纪60-70年代，不同语言的语法差异很大，但现如今，很多语言都可以叫做C—like语言。基本上，他们都和C语言很接近。</p>
<p>做同一件事情：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello World!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">mian</span><span class="params">(String[] arg)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello World!\n&quot;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="c简单历史"><a class="markdownIt-Anchor" href="#c简单历史"></a> C简单历史</h2>
<p>it was the summer of 69</p>
<p>C语言是从B语言发展而来，<br />
但没有A语言，FORTRAN语言是世界上第一个被正式推广使用的高级语言。指针是C语言的灵魂，高级语言中C语言是一种比较底层C99.现在C语言的编译器基本上都支持C99了</p>
<p>以前OS用汇编语言写，汇编是面向硬件的，所以做出来的OS可移植性差，所以贝尔实验室发明了C语言，想用这门高级语言写Unix操作系统，使得Unix的可移植性变强。Mac就是类Unix系统。</p>
<h2 id="编程软件"><a class="markdownIt-Anchor" href="#编程软件"></a> 编程软件</h2>
<p>C语言写，操作系统，嵌入式系统，写驱动程序（比如U盘），游戏引擎。<br />
网站的服务器本身的操作系统是C语言写的，网站的服务器软件是C语言写的，但网站直接提供数据的代码并不是C写的。</p>
<p>因此C是一门工业语言，<br />
开发效率&gt;&gt;学习过程<br />
开发效率&gt;&gt;学习乐趣</p>
<ol>
<li>编辑器 如VSCode;</li>
<li>编译器<br />
或者，IDE（集成开发环境）</li>
</ol>
<h1 id="day-2"><a class="markdownIt-Anchor" href="#day-2"></a> Day 2</h1>
<h2 id="第一个c程序"><a class="markdownIt-Anchor" href="#第一个c程序"></a> 第一个C程序</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello World!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="详解第一个程序"><a class="markdownIt-Anchor" href="#详解第一个程序"></a> 详解第一个程序</h2>
<p>我们所有的C程序都要有这几行,这是一个框架。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//在这写</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于C语言来说换行不意味着任何事情。</p>
<h2 id="做点计算"><a class="markdownIt-Anchor" href="#做点计算"></a> 做点计算</h2>
<p>计算机刚出现的时候，是使用打字机输入程序的，但打字机上没有乘除的符号所以用*&amp;/代替。</p>
<p>%是俩数做除法，只要余数。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;12+34=%d&quot;</span>, <span class="number">12</span>+<span class="number">34</span>); <span class="comment">//在这写</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="变量定义"><a class="markdownIt-Anchor" href="#变量定义"></a> 变量定义</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> price = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入金额(元)&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;price);</span><br><span class="line">    <span class="type">int</span> change=<span class="number">100</span>-price;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;找您%d元\n&quot;</span>, change);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>变量的名字叫做price，变量的类型是int，初始值为0.<br />
变量是保存数据的地方。<br />
变量代表一个变化的值。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> price,amount;</span><br></pre></td></tr></table></figure>
<p>变量的名字是一种标识符，C的关键字/保留字，不能用作标识符，标识符只能由 数字 下划线 字母 组成，数字不能放在开头。</p>
<h2 id="变量赋值与初始化"><a class="markdownIt-Anchor" href="#变量赋值与初始化"></a> 变量赋值与初始化</h2>
<p>对于C来说，初始化和赋值的差异不是特别大，但C++的差异大。=表示一个动作故a=b和b=a是两个完全不同的意思，当赋值发生在定义变量时即为初始化，若变量仅仅定义而没有初始化，比如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i;</span><br></pre></td></tr></table></figure>
<p>则在计算机的内存当中，那个变量放在内存的哪个位置，那个位置原来有什么，就是它的值。内存有个特点，即<strong>新来旧去</strong>，即新的来了，旧的才走。内存上旧的那一块，上面会保留上一个数据，但是会显示free，即可以分配新的数据过去从而覆盖掉旧的，新的来了后会显示busy，表示现在这块内存上正在有数据占用。如果变量没有初始化只是定义，那么这个变量确实会占一块内存并显示free，但是由于我们没有没有给它初值，所以它并不会覆盖掉内存上的旧数据，旧数据还在那，我们打印出来的是旧数据。</p>
<p>传统的ANSI C只允许在代码开头的地方定义变量，C99则不然。</p>
<h2 id="变量vs常量"><a class="markdownIt-Anchor" href="#变量vs常量"></a> 变量VS常量</h2>
<p>C99定义常量</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span>   AMOUNT = <span class="number">100</span>;</span><br></pre></td></tr></table></figure>
<p>这里的const是一个修饰符，表示该变量的值一旦被初始化，后面的程序便不能修改之。把某一数字赋予名字，可以增强易读性。<br />
eg,后面再写<br />
<s>AMOUNT=90</s> 便会被编译器发现并报错。<br />
对于一个常量，一般都会把变量名字大写。<br />
对于下面这段代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="type">int</span> b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a,&amp;b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d+%d=%d&quot;</span>, a,b,a+b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们输入<strong>1空格2</strong>和输入<strong>1回车2</strong>和输入<strong>1回车回车2</strong>，结果都是3，但是若输入<strong>hello</strong>,clion终端便会输出<strong>0+0=0</strong>，这是因为a和b没有被初始化且没有得到他们想要的值。</p>
<h2 id="浮点数"><a class="markdownIt-Anchor" href="#浮点数"></a> 浮点数</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> foot;</span><br><span class="line">    <span class="type">int</span> inch;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请分别输入身高的英尺和英寸，&quot;</span></span><br><span class="line">           <span class="string">&quot;如输入\&quot;5 7\&quot;表示5英尺7英寸：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;foot,&amp;inch);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;身高（国际单位）:%f\n&quot;</span>,</span><br><span class="line">           (foot+(inch/<span class="number">12</span>))*<span class="number">0.3048</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们首先使用卡西欧计算器计算5英寸7英寸=1.7018米，但是，当我们输入<strong>5 7</strong>时，程序输出的结果是1.524000，更加奇怪的是，我们输入5 9、5 0、结果均为1.524，但我们如果输入6 7和6 2，则结果均变为1.828。原因是，在C语言中当我们对两个整数进行运算时，它的结果也只能是整数，我们输入5 7 时，其中有7/12这个运算，得到的结果是向下取整后的，即为7/12约等于0，因此inch都不起作用，英尺才起作用。怎么解决呢，方案有俩：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, <span class="number">10.0</span>/<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>浮点数意思是小数点是浮动的，小数点出现在一个数的第几位，这是可以变的；定点数也有小数点，但它的小数点顾名思义，永远出现在某一位，浮点和定点都是在计算机内部表达有小数点数字的方式，但是我们通常会使用浮点数。运算符两边又有整数又有浮点数，C会强制类型转换，用这种方法改：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> foot;</span><br><span class="line">    <span class="type">int</span> inch;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请分别输入身高的英尺和英寸，&quot;</span></span><br><span class="line">           <span class="string">&quot;如输入\&quot;5 7\&quot;表示5英尺7英寸：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;foot,&amp;inch);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;身高（国际单位）:%f\n&quot;</span>,</span><br><span class="line">           (foot+(inch/<span class="number">12.0</span>))*<span class="number">0.3048</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第二种方法是改变量类型：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> foot;</span><br><span class="line">    <span class="type">double</span> inch;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请分别输入身高的英尺和英寸，&quot;</span></span><br><span class="line">           <span class="string">&quot;如输入\&quot;5 7\&quot;表示5英尺7英寸：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lf %lf&quot;</span>, &amp;foot,&amp;inch);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;身高（国际单位）:%f\n&quot;</span>,</span><br><span class="line">           (foot+(inch/<span class="number">12</span>))*<span class="number">0.3048</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>对于整型变量，我们输入的时候用%d输出的时候也用%d，但对于double我们输入用%lf输出用%f。<br />
浮点数有两种，一种是 双精度浮点数 double，一种是单精度浮点数 float(不是single)。<br />
那么在计算机里为什么会出现整数这样的东西，其实日常生活中和计算中我们不会特地去想这个数是整数还是小数，但由于计算机只认二进制，整数可以被完整表达，在计算机内部可以比较快地运算，但十进制小数转二进制有时候只能转成近似值，而且计算机计算比较慢。</p>
<h2 id="表达式"><a class="markdownIt-Anchor" href="#表达式"></a> 表达式</h2>
<p>ex[ression 一个表达式是一系列算子和运算符的组合。</p>
<ol>
<li>运算符 比如 + ，- ，=</li>
<li>算子，是指参与运算的值，该值可以是常数也可以是变量也可能是一个方法的返回值。</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> hour1, min1;</span><br><span class="line">    <span class="type">int</span> hour2, min2;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;hour1,&amp;min1);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;hour2,&amp;min2);</span><br><span class="line">    <span class="type">int</span> t1=hour1*<span class="number">60</span>+min1;              <span class="comment">//不是min1/60是因为避免使用浮点数</span></span><br><span class="line">    <span class="type">int</span> t2=hour2*<span class="number">60</span>+min2;              <span class="comment">//不是min2/60是因为避免使用浮点数</span></span><br><span class="line">    <span class="type">int</span> t=<span class="built_in">abs</span>(t2-t1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;时间差是%d小时%d分&quot;</span>, t/<span class="number">60</span>,t%<span class="number">60</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>表达式</strong>：expression 对于C语言来说，表达式是一个非常宽泛的概念，单一的字面量，单一的变量，计算的结果，函数的返回值……都是表达式的范畴。<strong>任何表达式都是有返回值的</strong>。可以理解为表达式本身也有值。举例：把while（x==10) 写成了 while （x=10)，然后程序就在这里死循环了，永远出不来。编译器不会向我们报错，因为这样的写法其实是合法的，赋值表达式是有（返回）值的。经查询，赋值表达式的返回值是赋值符号右边的值(逗号运算符返回的也是右边的值)。x=10的值就是10，所以while永远不会结束。而关系表达式往往返回bool值。</p>
<p><strong>语句</strong>：语句和表达式是两个概念，广义上讲，有;的就是语句，没有分号的就是表达式。C语句可分为以下五类：</p>
<ol>
<li>表达式语句：表达式语句由表达式加上分号“;”组成。其一般形式为：表达式; 执行表达式语句就是计算表达式的值。例如 c=a+a;</li>
<li>函数调用语句：由函数名、实际参数加上分号“;”组成。其一般形式为：函数名(实际参数表); 例如 printf(“Hello !”);</li>
<li>控制语句：控制语句用于控制程序的流程，以实现程序的各种结构方式。它们由特定的语句定义符组成。C语言有九种控制语句。 可分成以下三类：
<ol>
<li>条件判断语句：if语句、switch语句；为什么if语句叫语句呢？因为if后面跟一个{}，其实是一个复合语句。</li>
<li>循环执行语句：do while语句、while语句、for语句；</li>
<li>转向语句：break语句、goto语句、continue语句、return语句。</li>
</ol>
</li>
<li>复合语句：把多个语句用括号{}括起来组成的一个语句称复合语句。在程序中应把复合语句看成是单条语句，而不是多条语句。例如：{ x=y+z; a=b+c; printf(&quot;%d%d&quot;, x, a); }</li>
<li>空语句：只有分号“;”组成的语句称为空语句。空语句是什么也不执行的语句。在程序中空语句可用来作空循环体。例如：while( getchar()!=’\n’ );</li>
</ol>
<p><strong>表达式和语句的区别：</strong></p>
<ol>
<li><strong>功能不同</strong>：表达式本身是什么都不做的，只返回值，只是单纯的计算过程。它可以被放在任何需要值的地方。当然赋值表达式是比较特殊的，它虽然也返回值，但主要作用显然是改变变量的值，其实赋值表达式更像一个语句。语句是命令式编程语言的一个语法单元，表示程序要执行的操作。语句则是一个行为，负责执行某种操作，没有返回值。程序就是通过语句来执行功能的。语句由分号(或{})来结尾。</li>
<li><strong>二者本质不同</strong>：表达式由操作符（运算符）和操作数(算子)构成的式子。而语句的组成相对复杂，多种多样。</li>
</ol>
<p><strong>表达式与语句的联系：</strong></p>
<ol>
<li>表达式语句就是仅有表达式组成的语句（其实就是指赋值语句，或者由赋值语句组成的逗号表达式，如if()里的那些逗号表达式，不然根本没有意义）</li>
<li>很多语句需要用到值，也就是表达式。比如while（）的括号中需要一个值来告诉它循环是否结束且我们一般都会用关系表达式，关系表达式往往返回bool值。</li>
</ol>
<p><strong>其实深究表达式与语句的区别并没有什么意义。我们只需要记住，表达式是值，而语句是操作。有;的就是语句，没有分号的就是表达式，即可。</strong></p>
<h1 id="day-3"><a class="markdownIt-Anchor" href="#day-3"></a> Day 3</h1>
<h2 id="运算符优先级"><a class="markdownIt-Anchor" href="#运算符优先级"></a> 运算符优先级</h2>
<p>单目运算符：一个运算符如果需要两个算子则为双目运算符，仅有一个算子则为单目运算符，单目运算符优先级比乘除高，取余和乘除平级。单目运算符一定出现在算子左边。有的语言赋值是一个语句，但C来说赋值是运算符，赋值这个运算符是自右向左结合，比如a=b=6计算机理解为a=(b=6)。赋值的优先级是最低的。不要做嵌入式赋值，不易读。</p>
<p>取余运算符 % 是双目运算符，该运算符的两边均必须是整型，不能是浮点，否则取什么余呢？</p>
<h2 id="交换变量"><a class="markdownIt-Anchor" href="#交换变量"></a> 交换变量</h2>
<p>程序表达的是要执行的动作，而不是表达关系。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">5</span>;</span><br><span class="line">    <span class="type">int</span> b=<span class="number">6</span>;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    t=a;</span><br><span class="line">    a=b;</span><br><span class="line">    b=t;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d, b=%d&quot;</span>, a,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们想看到程序运行过程中5和6是怎么换的，需要用到调试功能，需要设断点，作用是当程序走到这一行时它会停下来，停在这一行表示这一行还没有执行即将要执行。<br />
编程中一些套路要多阅读别人的程序来获得。</p>
<h2 id="复合赋值和递增递减"><a class="markdownIt-Anchor" href="#复合赋值和递增递减"></a> 复合赋值和递增递减</h2>
<p>四则运算符和取余符号都可以和赋值运算符结合形成复合运算符<br />
eg,a+=5即a=a+5，之所以会出现这种复合运算符，是因为C当时想做成一个底层的编程语言，所以设计C是有一个思想即，能用C表达出机器语言所有的指令，又在PDP-11上做出的C，而PDP-11上刚好有一条机器指令专门去做这样的事情，所以便出现了这个东西。<br />
a+=b+5即为a=a+(b+5)<br />
<ins>和–都是单目运算符，其算子必须是变量不可是常量，<br />
count</ins>即count+=1即count=count+1。运算符都有结果，a++的结果是a加1以前的原值，++a是a加了1以后的值，但无论哪个，a的值都是加1以后的值，这两种运算符的出现与复合运算符一样，对于复合运算符和递增递减运算符可以单独使用但不要组合进表达式，否则很难读，</p>
<h2 id="practice"><a class="markdownIt-Anchor" href="#practice"></a> practice</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入一个正整数，单位是厘米：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a);</span><br><span class="line">    <span class="type">int</span> foot=a/<span class="number">30.48</span>;</span><br><span class="line">    <span class="type">int</span> inch=((a/<span class="number">30.48</span>)-foot)*<span class="number">12</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d %d&quot;</span>, foot,inch);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>怎么把一个四位数从中间分开呢，比如1120，我们用int a=1120/100得到11，用1120%100得20.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入一个3位正整数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a);</span><br><span class="line">    <span class="type">int</span> b=a/<span class="number">100</span>;</span><br><span class="line">    <span class="type">int</span> c=a%<span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> d=a%<span class="number">100</span>/<span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, c*<span class="number">100</span>+d*<span class="number">10</span>+b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>程序中如果想要表达一个二进制数，直接写二进制会显得太长，所以人们一般使用十六进制来表达，<br />
十进制：18 二进制：0001 0010 十六进制：0x12 BCD：12</p>
<h2 id="0的故事"><a class="markdownIt-Anchor" href="#0的故事"></a> 0的故事</h2>
<p>十九世纪末二十世纪初有电报时开始，英文的O和0很像不容易区分，所以电报里的0不是空心的，中间多了一条斜杠，这个做法延续到计算机出现，最初的程序是程序员手写的，然后交给操作员打在穿孔卡片上，手写程序也有这种字体，到后来终端出现，专门为0设置这种字体.</p>
<h2 id="做判断"><a class="markdownIt-Anchor" href="#做判断"></a> 做判断</h2>
<p>if(条件成立){<br />
…<br />
}</p>
<h2 id="判断的条件"><a class="markdownIt-Anchor" href="#判断的条件"></a> 判断的条件</h2>
<p>if 语句后面的小括号里的东西也是一种运算，叫关系运算，以下是关系运算符(比较运算符)，不是逻辑运算符：</p>
<table>
<thead>
<tr>
<th style="text-align:center">运算符</th>
<th style="text-align:center">意义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">==</td>
<td style="text-align:center">相等</td>
</tr>
<tr>
<td style="text-align:center">！=</td>
<td style="text-align:center">不相等</td>
</tr>
<tr>
<td style="text-align:center">&gt;=</td>
<td style="text-align:center">大于或等于</td>
</tr>
<tr>
<td style="text-align:center">&lt;=</td>
<td style="text-align:center">小于或等于</td>
</tr>
</tbody>
</table>
<p>运算符都有结果，关系运算的结果要么是0要么是1，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span>==<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span>&gt;=<span class="number">3</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">5</span>&lt;=<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>关系运算符的优先级比算术运算符优先级低，但是比赋值运算符优先级高，而在关系运算符中，==和！=的优先级又比其它比较运算符低，连续的关系运算符是从左到右进行的，</p>
<h1 id="day-4"><a class="markdownIt-Anchor" href="#day-4"></a> Day 4</h1>
<h2 id="找零计算器"><a class="markdownIt-Anchor" href="#找零计算器"></a> 找零计算器</h2>
<p>//(comment)是C99的注释，ANSIC不支持，//是单行注释，/*   */是多行注释。多行注释是C传统的形式，单行注释是C99独有的。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> MINOR=<span class="number">35</span>;</span><br><span class="line">    <span class="type">int</span> age=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入您的年龄：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;age);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;您输入的年龄是：%d\n&quot;</span>, age); <span class="comment">//人机交互常用手段</span></span><br><span class="line">    <span class="keyword">if</span> (age&lt;MINOR)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;青春不常在，抓紧谈恋爱！\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;三十而立，四十而不惑，五十而知天命，六十而耳顺，七十而从心所欲，不逾矩。\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="否则的话"><a class="markdownIt-Anchor" href="#否则的话"></a> 否则的话</h2>
<p>else</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入两个整数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a,&amp;b);</span><br><span class="line">    <span class="type">int</span> max;</span><br><span class="line">    <span class="keyword">if</span> (a&lt;b)&#123;</span><br><span class="line">        max=b;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        max=a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d大&quot;</span>, max);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入两个整数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a,&amp;b);</span><br><span class="line">    <span class="type">int</span> max=a;</span><br><span class="line">    <span class="keyword">if</span> (a&lt;b)&#123;</span><br><span class="line">        max=b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d大&quot;</span>, max);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上两段代码，虽然第二段耍了一下小聪明，更简洁，但第一段更傻，易读性更强，翁恺哥哥更偏爱第一段。</p>
<p>注意else后面不能跟表达式，即 <s>else (a &gt; b) {}</s> 是不行的，编译器会报错。</p>
<h2 id="if语句再探"><a class="markdownIt-Anchor" href="#if语句再探"></a> if语句再探</h2>
<p>虽然C语言要求每一句语句结尾要有一个分号，但if的圆括号后面不是if语句结束的地方，若if的圆括号后面不加{}，则紧跟在if后面的那一句话，是if条件成立时要执行的那句话，但没有大括号时也仅限这一句话。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a&gt;b)</span><br><span class="line">    c=a+b; <span class="comment">//这两行才是一个完整的if语句，第二行后面才跟分号</span></span><br></pre></td></tr></table></figure>
<h2 id="嵌套的if-else"><a class="markdownIt-Anchor" href="#嵌套的if-else"></a> 嵌套的if-else</h2>
<p>计算机最不会做的就是一眼看出来结果，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a,b,c;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入三个正整数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;a,&amp;b,&amp;c);</span><br><span class="line">    <span class="type">int</span> max=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (a&gt;b)&#123;</span><br><span class="line">        <span class="keyword">if</span> (a&gt;c)&#123;</span><br><span class="line">            max = a;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            max=c;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (b&gt;c)&#123;</span><br><span class="line">            max=b;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            max=c;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d最大\n&quot;</span>, max);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>tips:</p>
<ul>
<li>在if或者else后面总是用{}</li>
<li>即使只有一条语句的时候</li>
</ul>
<p>为何？<br />
如果不加{}，那么else总是和距离它最近的那个if匹配，与缩进无关(这一点与python不同)，而且这样很容易看错谁跟谁匹配，加了{}，else就不再遵守<strong>总是和距离它最近的那个if匹配</strong>这条规则，而是根据{}来判断谁跟它匹配。</p>
<h2 id="级联的if-else"><a class="markdownIt-Anchor" href="#级联的if-else"></a> 级联的if-else</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//写一个分段函数</span></span><br><span class="line">    <span class="type">double</span> x,f;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>,&amp;x);</span><br><span class="line">    <span class="keyword">if</span> (x&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        f=<span class="number">-1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x==<span class="number">0</span>)&#123;</span><br><span class="line">            f=<span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> ((<span class="number">0</span>&lt;x)&amp;&amp;(x&lt;=<span class="number">5</span>))&#123;</span><br><span class="line">                f=<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                f=<span class="number">3</span>*x;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, f);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样看起来代码会越来越往右边偏，最终会超出屏幕，早年这样很麻烦，所以想出来下面的编排方式，把所有else对齐，这样的编排方式叫做级联的if-else。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//写一个分段函数</span></span><br><span class="line">    <span class="type">double</span> x,f;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>,&amp;x);</span><br><span class="line">    <span class="keyword">if</span> (x&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        f=<span class="number">-1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x==<span class="number">0</span>)&#123;</span><br><span class="line">        f=<span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((<span class="number">0</span>&lt;x)&amp;&amp;(x&lt;=<span class="number">5</span>))&#123;</span><br><span class="line">        f=<span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        f=<span class="number">3</span>*x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f&quot;</span>, f);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这一段代码再对比下面一段代码有个明显的优点就是单一出口，下面一段代码是多出口，计算得到的结果不能用作他用只能printf,是写死了的.(出口不一定离开代码,printf给用户看也叫出口)</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//写一个分段函数</span></span><br><span class="line">    <span class="type">double</span> x;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>,&amp;x);</span><br><span class="line">    <span class="keyword">if</span> (x&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, <span class="number">-1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, <span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((<span class="number">0</span>&lt;x)&amp;&amp;(x&lt;=<span class="number">5</span>))&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%f&quot;</span>, <span class="number">3</span>*x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在run上述代码时，我发现整型数据以%f输出时，以及浮点数以%d输出时，会产生unexpected的结果，这个涉及底层类型转换，后面细说。</p>
<h2 id="if-else常见错误"><a class="markdownIt-Anchor" href="#if-else常见错误"></a> if-else常见错误</h2>
<ul>
<li>忘了大括号</li>
<li>if的括号加了; 如<br />
if(age&gt;60);<br />
z则C的编译器理解为<br />
if(age&gt;60)<br />
;</li>
<li>a=b是一个表达式，它也有一个结果就是b，因此，if(a=b)只要b不是0就为真。</li>
<li>编译器在看到你的程序有问题时，会给出两种类型的提示，一种时error，一种是warning。出现error编译器认为你的程序是错的因此不会产生可执行的东西，但warning，编译器不确定你的程序是不是出错了，最后还是做出来了可执行程序。一则笑话“从悬崖边立一块牌子——warning，则程序员都会掉下去。”所以我们要尊重warning。</li>
<li>虽然C语言的编译器它不管缩进，但是我们该加的要加，该规范的规范，</li>
</ul>
<h2 id="多路分支"><a class="markdownIt-Anchor" href="#多路分支"></a> 多路分支</h2>
<p>级联的if-els一般用来判断在一定范围内我要怎么做，在另一范围内我要怎么做，但有时我们会碰到这样的问题，当我们这个变量等于一个特定值的时候，我们要这样做，等于另一个特定值时我们要那样做，我们用级联可以做到：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//写一个分段函数</span></span><br><span class="line">    <span class="type">int</span> type;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;type);</span><br><span class="line">    <span class="keyword">if</span> (type==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;你好&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (type==<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;早上好&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (type==<span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;晚上好&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;啊对对对对&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但这样写有一个坏处，比如我输入3，程序先要比较前type是否等于1和2，才轮到和3比较，于是我们可以用switch-case写，当我们需要输入一些按键来做分支结构时，switch-case很实用，比如做电商项目时，需要用户输入数字来决定下一步程序做什么，用switch-case效率很高。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//写一个分段函数</span></span><br><span class="line">    <span class="type">int</span> type;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;type);</span><br><span class="line">    <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;你好&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;早上好&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;晚上好&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;啊对对对对&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>用switch-case比if语句的好处是，比如我输入3，程序会直接跳到case 3，它不会再慢慢比较上面的1和2。</li>
<li>而且，C语言里，switch()后面括号里的只能是<strong>整数型结果</strong>或<strong>枚举型结果</strong>，否则会error，比如double就不行。但是JAVA里，switch()括号里面可以不是整数，可以是字符串什么的，只要是具体的值就行。</li>
<li>其中case后面要跟一个常量(也可以是常量表达式  C99支持)，且case 的 constant-expression必须与 switch 中的变量具有相同的数据类型。JAVA里面case后面也是跟常量，比如具体的数字9，比如具体的字符串“hello”。</li>
<li>一个switch语句中只能有一个default语句，而且default语句可以省略。</li>
<li>如果把上面一段代码中的break全部删去，输入1，则会执行下面所有的printf语句，case并没有把代码分成一个个互斥的代码块，它只是从哪开始执行的入口，遇到break或者switch结束才会结束。switch里的break只跳出switch。</li>
<li>case后面的语句不需要加大括号，只要别忘了break就行。不过有的编程规范上会建议用大括号把case后面的语句括起来。“不能通过编译”，可能是下面这个原因。C/C++里规定，不能在case语句里定义局部变量。例如：</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">switch</span> (a)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="type">int</span> c = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>编译就会出错，原因是在case 1里定义了局部变量c。而C/C++还有一个很有意思的规定，用｛｝包括的语句，认为是一个”语句块“，而在语句块里就能想干什么就干什么。<br />
比如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (a)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="type">int</span> c = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>这样就能通过编译了。</p>
<h1 id="day-5"><a class="markdownIt-Anchor" href="#day-5"></a> Day 5</h1>
<h2 id="while-循环"><a class="markdownIt-Anchor" href="#while-循环"></a> while 循环</h2>
<p>计算机最不擅长的就是一眼看出来，但这是人最擅长的，人对文字的处理能力要优于对数字的处理能力，计算机相反。比如要得到某一个4位数以下数字的位数，人一眼就看出来的事计算机要写一段代码。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x, n;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入一个4位以下的正整数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="keyword">if</span> (x&gt;<span class="number">999</span>)&#123;</span><br><span class="line">        n=<span class="number">4</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (x&gt;<span class="number">99</span>)&#123;</span><br><span class="line">        n=<span class="number">3</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x&gt;<span class="number">9</span>)&#123;</span><br><span class="line">        n=<span class="number">2</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        n=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d位数&quot;</span>, n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>再比较下面一段代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x, n;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入一个4位以下的正整数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="keyword">if</span> (x&gt;<span class="number">999</span>)&#123;</span><br><span class="line">        n=<span class="number">4</span>;</span><br><span class="line">    &#125;<span class="keyword">if</span> (x&gt;<span class="number">99</span>)&#123;</span><br><span class="line">        n=<span class="number">3</span>;</span><br><span class="line">    &#125;<span class="keyword">if</span> (x&gt;<span class="number">9</span>)&#123;</span><br><span class="line">        n=<span class="number">2</span>;</span><br><span class="line">    &#125;<span class="keyword">if</span> (x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        n=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d位数&quot;</span>, n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样会发现无论怎么输结果都是1位数，这是因为，我们写程序时写的是步骤，而非说明。<br />
对于上面的程序，判断4位以下的数字位数是没毛病的，但是要判断5位数呢，6位数呢，要一直加分支吗？那多麻烦啊，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> n=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入一个正整数：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="keyword">while</span> (x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        x/=<span class="number">10</span>;</span><br><span class="line">        n++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d位数&quot;</span>, n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>问题迎刃而解。但整数在计算机里因为要用二进制表达它，所以是有范围的。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    n++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    n++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可见就是把 if 换成 while。循环体里要有改变条件的机会，否则会出现死循环，但这种出现语法上没有任何错误，但逻辑有错，</p>
<h2 id="do-while-循环"><a class="markdownIt-Anchor" href="#do-while-循环"></a> do-while 循环</h2>
<p>do-while在进入循环时先不做检查，而是在执行一轮循环体的代码后再来检查循环的条件是否满足，之前那个while在循环体前面，这个在循环体后面，只不过do-while，最后while()后面要跟一个;</p>
<h2 id="猜数游戏"><a class="markdownIt-Anchor" href="#猜数游戏"></a> 猜数游戏</h2>
<p>rand()和printf()一样，是一个系统库里面的函数，<br />
x%n的结果是[0, n-1]的一个整数，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//随机输出一个0-100的随机数</span></span><br><span class="line">    srand(time(<span class="number">0</span>));</span><br><span class="line">    <span class="type">int</span> a=rand();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a%<span class="number">100</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以下是猜数游戏源代码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//随机输出一个0-100的随机数</span></span><br><span class="line">    srand(time(<span class="number">0</span>));</span><br><span class="line">    <span class="type">int</span> number=rand()%<span class="number">100</span>+<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;我已经想好一个1-100之间的数了！\n&quot;</span>);</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请输入你猜的数吧！\n&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a);</span><br><span class="line">        count++;</span><br><span class="line">        <span class="keyword">if</span> (a&gt;number)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;你猜大了哈哈哈\n&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a&lt;number)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;你猜小了哈哈哈\n&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;Bingo!\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> (a != number);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;哈哈哈哈你猜了%d次终于猜对啦！\n&quot;</span>, count);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="算平均数"><a class="markdownIt-Anchor" href="#算平均数"></a> 算平均数</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//计算average</span></span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> x=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="type">int</span> n=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (x != <span class="number">-1</span>)&#123;</span><br><span class="line">        sum += x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">        n++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;average=%f&quot;</span>, (sum*<span class="number">1.0</span>)/n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="整数逆序"><a class="markdownIt-Anchor" href="#整数逆序"></a> 整数逆序</h2>
<p>分解一个多位数：</p>
<ol>
<li>对一个整数做%10，得到它的个位数；</li>
<li>对一个整数做/10，去掉它的个位数；</li>
<li>再对第2步得到结果做%10，得到其十位数；</li>
<li>在对第2步得到的结果做/10，则去掉它的十位数；</li>
<li>以此类推。</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//整数逆序1</span></span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> digit=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> ret=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入一个正整数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="keyword">while</span> (x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        digit=x%<span class="number">10</span>;</span><br><span class="line">        x=x/<span class="number">10</span>;</span><br><span class="line">        ret=ret*<span class="number">10</span>+digit;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;x=%d,digit=%d,ret=%d\n&quot;</span>, x,digit,ret);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//整数逆序2</span></span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> digit=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入一个正整数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="keyword">while</span> (x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        digit=x%<span class="number">10</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, digit);</span><br><span class="line">        x=x/<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="for-循环"><a class="markdownIt-Anchor" href="#for-循环"></a> for 循环</h2>
<p>for (expression1; expression2; expression3)</p>
<ul>
<li>expression1:初始化动作</li>
<li>expression2:循环条件</li>
<li>expression3:循环体做完后要做的动作<br />
for后面括号里的三个表达式都是可以省略的。for(;条件;)==while(条件)。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="type">int</span> factor=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        factor*=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,factor);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;<span class="comment">//不能int i=2,因为n=1时就不对了</span></span><br></pre></td></tr></table></figure>
<h1 id="day-6"><a class="markdownIt-Anchor" href="#day-6"></a> Day 6</h1>
<h2 id="循环的计算和选择"><a class="markdownIt-Anchor" href="#循环的计算和选择"></a> 循环的计算和选择</h2>
<p>for循环和while循环是等价的，任何一个for循环和while循环都可以相互转换。<br />
for 循环，while循环，do-while循环，tips:</p>
<ul>
<li>有固定次数，用for,如算阶乘;</li>
<li>必须至少执行一次循环体，则do-while；</li>
<li>otherwise用while循环；</li>
</ul>
<h2 id="循环控制"><a class="markdownIt-Anchor" href="#循环控制"></a> 循环控制</h2>
<p>遇到break就会离开这一层循环，不管是for、while、do-while；continue是跳过这一轮循环，这一轮循环余下没做的语句就不做了，但没有出这一层循环，下一轮循环还要做，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> isPrime=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请您输入一正整数：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; x; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (x%i==<span class="number">0</span>)&#123;</span><br><span class="line">            isPrime=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (isPrime==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;您输入的数是合数。&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;您输入的数是质数。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="嵌套的循环"><a class="markdownIt-Anchor" href="#嵌套的循环"></a> 嵌套的循环</h2>
<p>循环的嵌套可以是for&amp;for、for&amp;while、也可以是while&amp;while嵌套，一般情况下。嵌套循环每一层循环使用的<strong>控制变量</strong>应该是不一样的。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x=<span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> isPrime=<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//只有当有素数出现时，cnt才加1，每个cnt后面都代表有一个素数输出，0-49即有50个素数输出</span></span><br><span class="line">    <span class="keyword">while</span> (cnt&lt;<span class="number">50</span>)&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2</span>; j &lt; x; ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (x%j==<span class="number">0</span>)&#123;</span><br><span class="line">                isPrime=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="keyword">if</span> (isPrime==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, x);</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="keyword">if</span> (cnt%<span class="number">5</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        x++;</span><br><span class="line">        isPrime=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="从嵌套的循环中跳出"><a class="markdownIt-Anchor" href="#从嵌套的循环中跳出"></a> 从嵌套的循环中跳出</h2>
<p>break和continue只能跳出它所在那一层循环。如果我想让内层循环满足一定条件后，直接跳出所有循环，可以把break和if联用，需要一个变量表达这个条件，在每一层循环的循环体最后用if判断一个条件，当都满足一定条件时，会相继跳出每层循环，叫做<strong>接力break</strong>。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//用1角、2角、5角硬币凑出2元硬币</span></span><br><span class="line">    <span class="type">int</span> x=<span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> <span class="built_in">exit</span>=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> one = <span class="number">0</span>; one &lt;= <span class="number">20</span>; ++one) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> two = <span class="number">0</span>; two &lt;= <span class="number">10</span>; ++two) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> five = <span class="number">0</span>; five &lt;= <span class="number">4</span>; ++five) &#123;</span><br><span class="line">                <span class="keyword">if</span> (one+two*<span class="number">2</span>+five*<span class="number">5</span>==<span class="number">20</span>)&#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;可以用%d个1角,%d个2角,%d个5角凑出2元硬币\n&quot;</span>, one,two,five);</span><br><span class="line">                    <span class="built_in">exit</span>=<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">exit</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">exit</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这是其中一种手段，还有另外一种手段，我们还有一个好朋友叫goto，可以在需要离开循环的地方设置一个goto语句，在要跳的地方做一个标记label:，意味着goto跳到label那里去。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//用1角、2角、5角硬币凑出2元硬币</span></span><br><span class="line">    <span class="type">int</span> x=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> one = <span class="number">0</span>; one &lt;= <span class="number">20</span>; ++one) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> two = <span class="number">0</span>; two &lt;= <span class="number">10</span>; ++two) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> five = <span class="number">0</span>; five &lt;= <span class="number">4</span>; ++five) &#123;</span><br><span class="line">                <span class="keyword">if</span> (one+two*<span class="number">2</span>+five*<span class="number">5</span>==<span class="number">20</span>)&#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;可以用%d个1角,%d个2角,%d个5角凑出2元硬币\n&quot;</span>, one,two,five);</span><br><span class="line">                    <span class="keyword">goto</span> hell;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    hell:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="c语言有哪些基础数据类型"><a class="markdownIt-Anchor" href="#c语言有哪些基础数据类型"></a> C语言有哪些基础数据类型</h2>
<p>C语言是一种有类型的语言。即变量在使用前要先定义而且要确定类型，C语言之后的语言向两个方向发展：</p>
<ul>
<li>C++/Java 这种强类型语言，对类型的检查比C语言还严格；</li>
<li>JavaScript、python、PHP 属于弱类型语言，不看重类型，甚至变量不需事先定义，</li>
</ul>
<p>学界关于这件事情上划分两派</p>
<ul>
<li>支持强类型语言的认为明确的类型有助于今早发现程序中的简单错误；</li>
<li>支持弱类型的认为，过于强调类型会迫使程序员面都对底层而非事务逻辑；<br />
并没有说以上观点哪个是对的哪个是错的，总的来说，越早期的语言越强调类型，因为早期的语言面向底层，因为我们可能要用非常明确的类型来表达一些计算机内部的东西，但越面向应用的语言越忽视类型。C语言虽然是强类型语言，但对类型的安全检查相比后面的语言并不足够，C语言的<strong>基础数据类型</strong>可以分为以下几类：</li>
</ul>
<ol>
<li>整数
<ul>
<li>char、short(短整型)、int(整型)、long(长整型)、long long</li>
</ul>
</li>
<li>浮点数
<ul>
<li>float、double、long double</li>
</ul>
</li>
<li>逻辑(布尔类型)
<ul>
<li>bool(人为定义)C99才出现布尔类型</li>
</ul>
</li>
<li>指针<br />
除了基础数据类型。C语言还有自定义数据类型等等，</li>
</ol>
<ul>
<li>不同类型除了类型名称不同外，* 输入输出的格式化也不同如 %d、%ld、%f，</li>
<li>所表达数的范围不同，<br />
char&lt; short&lt; int&lt; float&lt; double</li>
<li>在内存中占据的内存大小不同，char是一个字节，long double是16个字节</li>
<li>不同类型变量在内存中的表现形式不一样，整型变量在内存中是自然二进制码或二进制的补码，而对于浮点数，它是一种编码形式，而不是自然二进制数，这就意味着它不能直接拿来做运算，而两个整数可以直接拿它的二进制码在加法器里面做加法，</li>
</ul>
<p>C语言给出了一个运算符 sizeof()，它可以给出某个类型或者某个变量在内存中占据的字节数，eg,sizeof(int), sizeof(i),</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    a=<span class="number">6</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(long double)=%ld\n&quot;</span>, <span class="keyword">sizeof</span> (<span class="type">long</span> <span class="type">double</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(a)=%ld\n&quot;</span>, <span class="keyword">sizeof</span> (a));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但是sizeof()是一个静态运算符，它的结果在编译时就已经决定了，不要在sizeof里做运算，这些运算不会做，比如下面这串代码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    a=<span class="number">6</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(long double)=%ld\n&quot;</span>, <span class="keyword">sizeof</span> (<span class="type">long</span> <span class="type">double</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(a)=%ld\n&quot;</span>, <span class="keyword">sizeof</span> (a++));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d\n&quot;</span>, a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果仍是a=6，因为a<ins>根本没有做，编译器在编译是看到sizeof，就会看sizeof括号里那个表达式结果会是什么类型的，然后根据这个类型就决定了“sizeof(a</ins>)”这个整体后面会被替换成一个什么样的数字，所以当程序编译完后这个6就已经确定下来了，a++并没有产生实际要执行的代码，sizeof是静态运算符并不会真的去做运算。</p>
<h2 id="除了int还有多少种整数类型"><a class="markdownIt-Anchor" href="#除了int还有多少种整数类型"></a> 除了int还有多少种整数类型</h2>
<ul>
<li><strong>char</strong>:1字节,用于声明单个字符的关键字。C语言没有专门用于存储字符串的变量类型，字符串都被存储在char类型的数组中。数组由连续的存储单元组成，字符串中的字符被存储在相邻的存储单元中，每个单元存储一个字符。C语言中，一个汉字占据两个char类型。十分注意，JAVA里面char类型占2个字节。<br />
在打印汉字时，它的两个char必须紧跟着。</li>
<li><strong>short</strong>:2字节</li>
<li><strong>int</strong>:取决于编译器和CPU，通常的意义是“1个字”。字:CPU一次性传输，运算或处理的二进制数据。</li>
<li><strong>long</strong>:取决于编译器和CPU，通常的意义是“1个字”</li>
<li><strong>long long</strong>:8字节</li>
</ul>
<p>都知道计算机内部有一个东西叫CPU，CPU外面还有个东西叫内存，CPU和内存中间有一个叫总线的东西将两者连接，CPU里面有个东西叫寄存器(Reg.)，当我们说计算机字长时，就是在说寄存器多宽，也就是说这个寄存器是几个比特的，比如寄存器每次能处理<strong>32bit</strong>的数据，也就是说每次总线从内存向CPU传数据每次能传<strong>32bit</strong>的数据，那么这个字长也就会在C语言中反映为int，<strong>也就是int想要表达的是计算机一个寄存器的大小</strong>，所以在不同的电脑什么int会变得不一样大。<br />
CPU位数=CPU中寄存器的位数=CPU能够一次并行处理的数据宽度（位数=数据总线宽度=计算机字长</p>
<p>我们平时用的数据类型，默认是signed，只不过signed缺省了，如果要定义无符号数，只需在前面加unsigned。需要注意的是，unsigned int 和int 是2种数据类型，所能表达的最大值也不同，前者是2的32次方-1，后者是2的31次方-1。</p>
<p>C语言除了基本数据类型，还有其它数据类型：</p>
<ol>
<li>基本数据类型；</li>
<li>枚举类型enum；</li>
<li>空类型void；</li>
<li>派生类型：(类似JAVA的引用类型)
<ol>
<li>指针类型；</li>
<li>数组类型；</li>
<li>函数类型；</li>
<li>结构体类型；</li>
</ol>
</li>
</ol>
<h2 id="整数的内部表达"><a class="markdownIt-Anchor" href="#整数的内部表达"></a> 整数的内部表达</h2>
<p>我们怎么用二进制表达负数呢？</p>
<ol>
<li>可以仿照十进制，有一个特殊的标志来表示负数；</li>
<li>取中间数为0，如10000000表示0，比它小的是负数，比它大的是正数；</li>
<li>补码<br />
第一种方案有个问题就是，计算机在做加法减法是，需要特别判断符号位，并且符号位不参与运算，但这样不能像正常的二进制一样做运算，会让计算机做运算更加复杂。<br />
如果采用中间数，那么比如10000000本来表示128，我们如果强制规定这个数是0D，那我们想得到其它数就得都减去10000000，比如我们想得到1D，就得用10000001-10000000，还是太麻烦。<br />
我们希望-1+1=0，假设我们现在只占用1个字节，0是00000000，1是00000001，那么如果我们用11111111+00000001，那么结果是100000000，变成9位，但我们目前只能用8位，所以最高位1被丢弃，结果就是00000000。11111111被当作普通的二进制数看待是255，被当作补码看待是-1，即11111111就是1二进制数的2的补码，补码得意义就是拿补码和源码可以加出一个溢出的0，用补码的好处是，需要做正负运算时，直接用最普通的二进制运算就能得到正确的结果，</li>
</ol>
<h2 id="整数的范围"><a class="markdownIt-Anchor" href="#整数的范围"></a> 整数的范围</h2>
<p>对于一个8位的二进制数，表达无符号数的范围是0-255，表达有符号数是-128-127。<br />
前面提到char类型占用1个字节，int占用和字长相同的字节。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">char</span>));</span><br><span class="line">    <span class="type">char</span> a=<span class="number">127</span>;</span><br><span class="line">    <span class="type">char</span> b=<span class="number">255</span>;</span><br><span class="line">    <span class="type">int</span> c=<span class="number">255</span>;</span><br><span class="line">    <span class="type">int</span> d=<span class="number">2147483648</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d,b=%d,c=%d,d=%d&quot;</span>, a,b,c,d);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这段代码的输出只有理解《Code》13章才能看懂，代码输出是：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">a=<span class="number">127</span>,b=<span class="number">-1</span>,c=<span class="number">255</span>,d=<span class="number">-2147483648</span></span><br></pre></td></tr></table></figure>
<p>我的电脑CPU是X64，也就是：<br />
CPU位数=CPU中寄存器的位数=CPU能够一次并行处理的数据宽度（位数=数据总线宽度=计算机字长=64)<br />
不是说int反映是计算机字长吗，sizeof出来怎么是4个字节32位，原因是编译器的问题，编译器也会决定int的空间。然后char占用一个字节的内存众所周知，那么我们明明给a赋值是255，怎么输出变成了-1呢？有个前提，C语言中char short int long等在不指定signed或unsigned时都默认为signed，所以我们默认情况下给b赋值255，255存到b那块内存变成255的二进制数11111111，等到输出是，char默认转成int型，变成11111111 11111111 11111111 11111111按照signed输出，就是按照那两个圈的对应关系输出，11111111 11111111 11111111 1111111对应-1，所以输出-1。而char a=127，127的二进制数是01111111，在那两个圈的前半圈，按照对应关系，输出还是127。<br />
到了int这变也是，int默认输出signed，int也是按照那两个圈，但由于int占用4个字节32位，所以int的圈大的多，4个字节的0int表示的范围是-2<sup>(31)-2</sup>(31)-1即-2147483648-2147483647，我们赋给d的值是2147483648，存到d那块内存上就是2147483648的二进制数00000000 00000000 00000000 01111111，计算机按照那两个圈圈，输出该二级制数的补码，再转化成该补码的十进制数，即-2147483648。赋给c的数255由于在圈的前半圈，所以同样按照对应规则输出为255。</p>
<p>我们想让计算机输出无符号数，需要加个unsigned，代表输出的十进制数是无符号数即，没有负数部分。我们试试看：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">char</span>));</span><br><span class="line">    <span class="type">char</span> a=<span class="number">127</span>;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> b=<span class="number">255</span>;</span><br><span class="line">    <span class="type">int</span> c=<span class="number">255</span>;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> d=<span class="number">2147483648</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d,b=%d,c=%d,d=%d&quot;</span>, a,b,c,d);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果是：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">a=<span class="number">127</span>,b=<span class="number">255</span>,c=<span class="number">255</span>,d=<span class="number">-2147483648</span></span><br></pre></td></tr></table></figure>
<p>哎怎么回事，我们明明unsigned了，int d=2147483648的输出怎么还是负数，<strong>char类型倒是没啥问题，输出的看上去和无符号数一样</strong>。问题出在%d上，%d 输出有符号10进制整数，所以即使我们unsigned了，但是%d输出还是按照有符号数输出，%u输出无符号10进制整数，所以我们将%d改成%u就没问题了。至于为什么b按照%d输出不是-1而是255，看上去输出的是无符号数呢？其实不是，char short int类型会按照int来输出,当小于int的整型变量传给printf时，编译器会把该整型变量自动转为int，即在unsigned char那里的255，会变成00000000 00000000 00000000 11111111，按照int有符号数来输出的话，也是255。所以b其实输出的也是有符号数。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">char</span>));</span><br><span class="line">    <span class="type">char</span> a=<span class="number">127</span>;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> b=<span class="number">255</span>;</span><br><span class="line">    <span class="type">int</span> c=<span class="number">255</span>;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> d=<span class="number">2147483648</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%u,b=%u,c=%u,d=%u&quot;</span>, a,b,c,d);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出是</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">a=<span class="number">127</span>,b=<span class="number">255</span>,c=<span class="number">255</span>,d=<span class="number">2147483648</span></span><br></pre></td></tr></table></figure>
<p>看，没问题了，对味了。既然%u能输出无符号十进制数，那我们直接unsigned也不要了单靠%u，试试能不能输出无符号数：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="type">char</span>));</span><br><span class="line">    <span class="type">char</span> a=<span class="number">127</span>;</span><br><span class="line">    <span class="type">char</span> b=<span class="number">255</span>;</span><br><span class="line">    <span class="type">char</span> i=<span class="number">-1</span>;</span><br><span class="line">    <span class="type">char</span> e=<span class="number">128</span>;</span><br><span class="line">    <span class="comment">//按照%u输出</span></span><br><span class="line">    <span class="type">char</span> h=<span class="number">127</span>;</span><br><span class="line">    <span class="type">char</span> f=<span class="number">255</span>;</span><br><span class="line">    <span class="type">char</span> j=<span class="number">-1</span>;</span><br><span class="line">    <span class="type">char</span> g=<span class="number">128</span>;</span><br><span class="line">    <span class="comment">//按照%d输出</span></span><br><span class="line">    <span class="type">int</span> c=<span class="number">255</span>;</span><br><span class="line">    <span class="type">int</span> d=<span class="number">2147483648</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%u,b=%u,i=%u,e=%u;  h=%d,f=%d,j=%d,g=%d;  c=%u,d=%u&quot;</span>, a,b,i,e, h,f,j,g, c,d);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">a=<span class="number">127</span>,b=<span class="number">4294967295</span>,i=<span class="number">4294967295</span>,e=<span class="number">4294967168</span>;  h=<span class="number">127</span>,f=<span class="number">-1</span>,j=<span class="number">-1</span>,g=<span class="number">-128</span>;  c=<span class="number">255</span>,d=<span class="number">2147483648</span></span><br></pre></td></tr></table></figure>
<p>哎我们发现不行，这时我们发现先辈用unsigned不是摆设，单靠%u不行，从上文我们知道char short int类型会按照int来输出,当小于int的整型变量传给printf时，编译器会把该整型变量自动转为int，也就是上午中unsigned char b=255，按照%u输出时，内存中的11111111靠编译器传给printf时，编译器会把11111111转为00000000 00000000 00000000 11111111，在输出，输出为255，没问题。那么这里为什么变成了b=4294967295，这是什么东西？我们仔细观察发现，4294967295=2的32次方，即11111111 11111111 11111111 11111111，不是说好的转成00000000 00000000 00000000 11111111吗，怎么转成了11111111 11111111 11111111 11111111？原来，加了unsigned的char，就是无符号数，编译器在转换的时候就当无符号数转，多出来的位补0，但若没加unsigned，则在在转成int时，按照有符号数去转，255的二进制有符号数最高位是1，所以多出的位用1补(按位右移:整个位向右移动，左边补符号位对应的内容，正数补0，负数补1，注意，这是针对有符号数)，转成的11111111 11111111 11111111 11111111按照有符号数输出就是-1，f印证了这一点，按照无符号数输出就是4294967295，b印证了这一点。同理，a在定义时也没加unsigned，但a是01111111，在转成int时虽然也按照有符号数转，但最高位为0，多出的位补0所以转成后是00000000 00000000 00000000 01111111，按照有符号数和无符号数输出都是127，a和h印证了这一点。e的遭遇同理，由于没有加unsigned，在char那一个字节上虽然是10000000，但是转int时按照有符号数去转，多出的位补1，最后转成11111111 11111111 11111111 10000000，这个数按照有符号数输出是-128，按照无符号数输出是4294967168，g和e可以印证这一点。最后看char i=-1和char j=-1，输出结果和char b=255和char f=255一样，可见-1和255赋值给char类型时，都是默认按照11111111赋值。</p>
<p>即计算机内存里的二进制数就在那，输出什么取决于我们怎么看它，是把它按照有符号数的对应关系输出还是按照无符号数的对应关系输出，至于unsigned，它决定char这种小于int的整型在输出转成int型时，多出来的位补0还是补1.</p>
<p>看来还是得<strong>unsigned</strong> 和 <strong>%u</strong>一块上。但如果定义unsigned char a=255，再输出++a，得到的结果是0，这不是因为输出的结果是有符号数的原因，输出的还是无符号数，只是100000000最高位的1上溢被计算机扔了。</p>
<p>常量和变量都属于变量，只不过常量是赋过值后不能再改变的变量，而普通的变量可以再进行赋值操作；<br />
字面量是指由字母，数字等构成的字符串或者数值，它只能作为右值出现，所谓右值是指等号右边的值，如：int a=123这里的a为左值，123为右值。字面量是一个具体的值，比如变量的值或者常量的值。</p>
<p>在C中，如果一个字面量常量想表达自己是unsigned，可以在后面加u或U，想表示自己是long类型，可以在后面加l或L，设计unsigned的初衷并不是扩展这块内存所能表达的无符号数的范围，而是为了做纯二进制计算，主要是为了移位。</p>
<h2 id="整数的格式化"><a class="markdownIt-Anchor" href="#整数的格式化"></a> 整数的格式化</h2>
<p>虽然我们有很多种不同的整数类型，char short int long longlong，但在做scanf和printf输入和输出时，只有int 和 longlong这两种形式。也就是所有小于等于int的，也就是char short int 这三种，都采用int(%d)来输出，所有比int大的整型，用longlong来输出(%ld)，unsigned用%u输出。</p>
<p>printf中的f是format的意思，意思是格式化打印；同理，scanf是格式化扫描的意思。</p>
<p>% 是格式控制符，%d后面的d是Decimal integer的意思，详见该<a target="_blank" rel="noopener" href="https://cplusplus.com/reference/cstdio/scanf/">链接</a></p>
<p>1个以0开头的数字字面量是8进制；1个以0x开头的数字字面量是16进制。想要输出8进制就用%o，想要输出十六进制，数码是大写的ABCDEF,则用%X，想要输出十六进制，数码是小写的abcdef，则用%x。scanf里面用%o和%x都是表示莪们读进来的数当作八进制数和十六进制数。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> a=<span class="number">012</span>;</span><br><span class="line">    <span class="type">char</span> b=<span class="number">0x12</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a十进制=%d，b十进制=%d；a八进制=0%o，b十六进制=0x%x或0X%X,&quot;</span>, a,b, a,b,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a十进制=<span class="number">10</span>，b十进制=<span class="number">18</span>；a八进制=<span class="number">012</span>，b十六进制=<span class="number">0x12</span>或<span class="number">0X12</span>,</span><br></pre></td></tr></table></figure>
<p>主要，不管我们给变量赋的值是八进制还是十六进制，存在计算机内存上的只有二进制，比如char a=012，a那里存的其实是八进制12的二进制数00001010，输出就根据00001010看是%d还是%u还是%x还是%o。<br />
因为十六进制和二进制转换4位一换很方便，所以我们常常用16进制数表达二进制数。</p>
<h2 id="选择整数类型"><a class="markdownIt-Anchor" href="#选择整数类型"></a> 选择整数类型</h2>
<p>为什么C语言里面有这么多整数类型，是因为早期的语言需要准确地表达计算机内部的硬件，比如有一个输入输出的端口，那个端口就是16bit的，用short来表达刚好。<br />
有些教科书可能会说，用short可以省一些内存什么的。但现在的计算机已经不是当年的计算机了，现在CPU起码是32位的，如果用char，那CPU还是得从内存中一次读32bit出来，然后在把那8bit从32bit中剥出来给你，不见得比能直接反映计算机字长得int更省事，所以我们今天没有特别需求就用int，除非要做硬件，平时也不会用unsigned，比如java它就不区分有符号数和无符号数，因为如果不做底层硬件，这些操作都用不上。</p>
<h2 id="浮点类型"><a class="markdownIt-Anchor" href="#浮点类型"></a> 浮点类型</h2>
<table>
<thead>
<tr>
<th style="text-align:center">类型</th>
<th style="text-align:center">大小(bit)</th>
<th style="text-align:center">范围</th>
<th style="text-align:center">有效数字</th>
<th style="text-align:center">scanf</th>
<th style="text-align:center">printf</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">float</td>
<td style="text-align:center">32</td>
<td style="text-align:center">-3.40×10^38 — (-1.20×10^-38) &amp; 0 &amp; 1.20×10^-38 — 3.40×10^38，±inf，nan</td>
<td style="text-align:center">7</td>
<td style="text-align:center">%f</td>
<td style="text-align:center">%f, %e</td>
</tr>
<tr>
<td style="text-align:center">double</td>
<td style="text-align:center">64</td>
<td style="text-align:center">-1.79×10^308 — (-2.20×10^-308) &amp; 0 &amp; 2.20×10^-308 — 1.79×10^308，±inf，nan</td>
<td style="text-align:center">15</td>
<td style="text-align:center">%lf</td>
<td style="text-align:center">%f, %e</td>
</tr>
</tbody>
</table>
<p>%e是输出科学计数法</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> a=<span class="number">1234.56789</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%e,%E,%f&quot;</span>,a,a,a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.234568e+03</span>,<span class="number">1.234568E+03</span>,<span class="number">1234.567890</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> a=<span class="number">1E-10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%e,%E,%f,%.16f&quot;</span>,a,a,a,a);</span><br><span class="line">    <span class="comment">//double的范围可以包含1E-10，因为它有15位的有效数字</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">输出</span><br><span class="line">```C</span><br><span class="line"><span class="number">1.000000e-10</span>,<span class="number">1.000000E-10</span>,<span class="number">0.000000</span>,<span class="number">0.0000000001000000</span></span><br></pre></td></tr></table></figure>
<p>在%和f之间加上.n可以指定输出小数点后n位，这样的输出是要做4舍5入，但是我们有时感觉不是四舍五入，比如下面的printf(&quot;%.3f\n&quot;,-0.0045); 我们本以为是-0.005，输出结果却是-0.004，怎么回事，看上去不是四舍五入。其实就是四舍五入，只不过如果5后面全是0  那么有可能是4999999这种情况，因此很可能后面的全部舍去。总而言之，如果第(n+1)位是5，5后面有非0数则进1，5后均为0则不进1，全舍去。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 负数四舍五入和正数规则一样</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.3f\n&quot;</span>,<span class="number">-0.0045</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.3f\n&quot;</span>,<span class="number">-0.0055</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.3f\n&quot;</span>,<span class="number">-0.0046</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.3f\n&quot;</span>,<span class="number">-0.00451</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.30f\n&quot;</span>,<span class="number">-0.0049</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.3f\n&quot;</span>,<span class="number">-0.00049</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-0.004</span></span><br><span class="line"><span class="number">-0.005</span></span><br><span class="line"><span class="number">-0.005</span></span><br><span class="line"><span class="number">-0.005</span></span><br><span class="line"><span class="number">-0.004899999999999999841793218991</span></span><br><span class="line"><span class="number">-0.000</span></span><br></pre></td></tr></table></figure>
<p>-0.004899999999999999841793218991这是什么？实际上0.0049在计算机内部不能精确地表达为0.0049，我们在数学上数可以是连续的，但是在计算机内部，数只能被离散地表达，比如我们想表达0.0049，但是计算机不能表达0.0049，只能取0.0049最近的能在计算机内部表达的数代替0.0049，这就是浮点数的精度，当然double比float精度高，这是天然的缺陷。</p>
<h1 id="day-8"><a class="markdownIt-Anchor" href="#day-8"></a> Day 8</h1>
<h2 id="浮点数的范围和精度"><a class="markdownIt-Anchor" href="#浮点数的范围和精度"></a> 浮点数的范围和精度</h2>
<ul>
<li>printf输出±inf表示超过范围的浮点数：±∞</li>
<li>printf输出nan表示不存在的浮点数</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>,<span class="number">12.0</span>/<span class="number">0.0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>,<span class="number">-12.0</span>/<span class="number">0.0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>,<span class="number">0.0</span>/<span class="number">0.0</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">inf</span><br><span class="line">-inf</span><br><span class="line">nan</span><br></pre></td></tr></table></figure>
<p>上面的代码若用%d输出，则会报错，因为inf无法用整数表达，但可以用浮点数表达。虽然浮点数表达的实数范围是有限的，但可以表达0，±inf，nan这几个特殊的值。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">float</span> a=<span class="number">1.345f</span>;</span><br><span class="line">    <span class="type">float</span> b=<span class="number">1.123f</span>;</span><br><span class="line">    <span class="comment">//带小数点但不带f的字面量是double</span></span><br><span class="line">    <span class="type">float</span> c=a+b;</span><br><span class="line">    <span class="keyword">if</span> (c==<span class="number">2.468</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;相等\n&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不相等,c=%.10f或c=%f\n&quot;</span>,c,c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">不相等,c=<span class="number">2.4679999352</span>或c=<span class="number">2.468000</span></span><br></pre></td></tr></table></figure>
<p>float只有7位有效数字，即c=2.4679999352只有前7位c=2.467999是准确的，即在计算机内部它不是2.468，这是有误差的。所以如果要用浮点数做精确运算，最后误差会累计起来，不要用浮点数做精确运算，也不要让两个浮点数去直接判断是否相等，可以让两个浮点数差的绝对值小于某个很小的值来判断是否相等。卡西欧计算机是用整数来做小数运算的。</p>
<p>浮点数：N = M × R^(e)<br />
其中，M称为数N的尾数，决定数的精度。E是数N的阶码(指数)，决定数的范围。<br />
比如12.5×2<sup>(3)，和12.51×2</sup>(4)，尾数分别是12.5和12.51，显然12.51精度更高；阶码分别是3和4，显然4的范围更大。</p>
<p>浮点数在计算机内部和整数不同，整数可以用纯二进制表示，可以直接拿二进制做运算，但浮点数在计算机内部靠编码的形式表达，第一个bit表达正负号，后面几个bit表达以2为底的阶码(指数)，剩下的位数表示尾数。</p>
<table>
<thead>
<tr>
<th style="text-align:center">类型</th>
<th style="text-align:center">占用内存(bit)</th>
<th style="text-align:center">内存分配</th>
<th style="text-align:center">指数范围</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">float</td>
<td style="text-align:center">32</td>
<td style="text-align:center">1符号位,8指数位,23尾数位</td>
<td style="text-align:center">[-127,128]</td>
</tr>
<tr>
<td style="text-align:center">double</td>
<td style="text-align:center">64</td>
<td style="text-align:center">1符号位,11指数位,52尾数位</td>
<td style="text-align:center">[-1023,1024]</td>
</tr>
</tbody>
</table>
<p>欲详细了解浮点数在内存中的存储方式，click this<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/343033661">来点我呀</a></p>
<p>现在的CPU都带着专门做浮点计算的硬件，浮点数的编码形式会被该硬件解开，然后做浮点运算，得到结果硬件会把它编码再输出。计算double和计算float所用到的硬件是一样的。</p>
<p>没有特殊需求用double,因为现在CPU能直接对double做硬件运算，性能不会比float差，在64位的机器上速度也不比float慢。</p>
<h2 id="字符类型"><a class="markdownIt-Anchor" href="#字符类型"></a> 字符类型</h2>
<p>char不仅表示一种整数类型，还能表示字符类型，是character的前4个字母<br />
我们给char类型赋值时，赋’1’和赋49是等价的。在计算机内部都是00000001，用%d输出就是49，用%c输出就是’1’，它的二进制就在计算机里，取决于你怎么看它。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&#x27;1&#x27;</span>==<span class="number">49</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Then，OK&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">···</span><br><span class="line">果然输出OK，了解了输出的 %c ，看输入时<span class="built_in">scanf</span>的作用，</span><br><span class="line">```C</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> a,b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %c&quot;</span>, &amp;a,&amp;b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d,b=%d; a=%c,b=%c&quot;</span>,a,b,a,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们输入1 1，输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">1</span>,b=<span class="number">49</span>; a=╔,b=<span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>这样可以得出结论，scanf中的%c，会把输入当作字符解读，同样是输入1，%d当作整数1，%c当作‘1’，而输出的 ╔ 是因为根据ASCII码，十进制1对应 ╔ 。<br />
如果同时在scanf里做2个输入，要不要加空格呢？看下面的代码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="type">char</span> b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %c&quot;</span>, &amp;a,&amp;b);</span><br><span class="line">    <span class="comment">//有空格</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d,b=%d,b=%c&quot;</span>,a,b,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们分别输入 12a ，12 a，12   a，<br />
输出结果都是 a=12,b=97,b=a</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="type">char</span> b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%c&quot;</span>, &amp;a,&amp;b);</span><br><span class="line">    <span class="comment">//没空格</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d,b=%d,b=%c&quot;</span>,a,b,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们分别输入 12a ，12 a，12   a，<br />
输出结果分别是</p>
<ul>
<li>
<p>a=12,b=97,b=a</p>
</li>
<li>
<p>a=12,b=32,b=</p>
</li>
<li>
<p>a=12,b=32,b=</p>
</li>
<li>
<p>为什么呢，注意空格的ASCII码就是32，也就是%d后面没有空格，则老老实实读下一个，即使下一个是空格也要读入，若有空格，则读完第一个，要把第一个后面的空格都读完才读下一个输入。</p>
</li>
<li>
<p>简单讲&quot;%d %c&quot;可以以0个或多个空白字符（空格、tab键、<strong>回车</strong>等）作为<strong>分隔符</strong>，同时%c不会读取空白字符，%c读取的一定是一个非空白字符。</p>
</li>
<li>
<p>scanf中的%d%d%d 是按十进值格式输入三个数值。输入时，在两个数据之间可以用一个或多个空格、tab 键、回车键<strong>分隔</strong>。</p>
</li>
<li>
<p>如果3个%d之间是用空格隔开的，像这样 %d %d %d 那么我们在每输入一个整数后<strong>必须</strong>输入一个分隔符，分隔符可以是空格、tab、回车。</p>
</li>
<li>
<p>如果使用 , 来分隔输入的 %d, 相应的输入时也需要添加&quot;,&quot;。</p>
</li>
<li>
<p>在用 %c%c%c 输入时，空格和&quot;转义字符&quot;均作为有效字符，除非%c之间用空格隔开。</p>
</li>
<li>
<p>scanf()函数使用空白（换行符、制表符和空格）把输入分成多个字段。 在依次把转换说明和字段匹配时跳过空白。只要在每个输入项之间输入至少一个换行符、空格或制表符即可，可以在一行或多行输入。唯一例外的是%c会读取每个字符，包括空隔符。</p>
</li>
<li>
<p>scanf()函数允许把<strong>普通字符</strong>放在<strong>格式字符串</strong>中，除<strong>空格字符</strong>外的<strong>普通字符</strong>必须与<strong>输入字符串</strong>严格匹配。</p>
</li>
<li>
<p>注意，scanf()中的 %md 和printf()中的 %md 含义是不同的。</p>
</li>
<li>
<p>键盘缓冲区残余信息问题：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>,&amp;c);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;a=%d     c=%c\n&quot;</span>,a,c);</span><br><span class="line">        <span class="comment">/*printf(&quot;c=%d/n&quot;,c);*/</span></span><br><span class="line">    &#125;<span class="keyword">while</span>(c!=<span class="string">&#x27;N&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>scanf(&quot;%c&quot;,&amp;c);这句不能正常接收字符,什么原因呢？我们用printf(“c=%d\n”,c);将C用int表示出来，启用printf(“c=%d\n”,c);这一句，看看scanf()函数赋给C到底是什么，结果是 c=10 ,ASCII值为10是什么？换行即\n.对了，我们每击打一下”Enter”键，向键盘缓冲区发去一个“回车”(\r),一个“换行”(\n),在这里\r被scanf()函数处理掉，而\n被scanf()函数“错误”地赋给了c.<br />
解决办法：可以在两个scanf()函数之后加个fflush(stdin);，还有加getch(); getchar();也可以，但是要视具体scanf()语句加那个，这里就不分析了，读者自己去摸索吧。但是加fflush(stdin);不管什么情况都可行。<br />
这种残留情况一般存在与上一个scanf()是%d，下一个scanf()是%c的情况，类似一个scanf()里面有%d%c，两个挨着，%c就会直接读下一个字符，即使下一个是回车。如果改成这样的代码：</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d&quot;</span>, a, b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输入12(回车)13，或者输入12(空格)13，输出就是12,13，不会读入那个回车，这种情况就类似于一个scanf()里面有%d%d,两个挨着，第2个%d就会认为回车是分隔符，直接跳过去读入下一个整数，也不会有缓冲区残余问题。</p>
<h2 id="c语言的编码系统"><a class="markdownIt-Anchor" href="#c语言的编码系统"></a> C语言的编码系统</h2>
<p>C语言是 70 年代的产物，那个时候只有ASCII，各个国家的字符编码都还未成熟，所以C语言不可能从底层支持 GB2312、GBK、Big5、Shift-JIS等国家编码，也不可能支持 Unicode 字符集。</p>
<p>在C语言中字符有两种，一种是窄字符，另一种是宽字符。</p>
<ul>
<li>只有 char 类型的窄字符才使用 ASCII 编码</li>
<li>char 类型的窄字符串、宽字符和宽字符串都不使用 ASCII 编码！wchar_t 类型的宽字符和宽字符串使用 UTF-16 或者 UTF-32 编码对于窄字符串，C语言并没有规定使用哪一种特定的编码，只要选用的编码能够适应当前的环境即可，所以，窄字符串的编码与操作系统和编译器有关。</li>
</ul>
<p>可以肯定的说，在现代计算机中，窄字符串已经不再使用 ASCII 编码了，因为 ASCII 编码只能显示字母、数字等英文字符，对汉语、日语、韩语等其它地区的字符无能为力。对于窄字符串，C语言并没有规定使用哪一种特定的编码，只要选用的编码能够适应当前的环境即可，所以，窄字符串的编码与操作系统和编译器有关。</p>
<h2 id="逃逸字符"><a class="markdownIt-Anchor" href="#逃逸字符"></a> 逃逸字符</h2>
<p>逃逸字符：又叫转义字符，因为\后面的字符，都不是它本来的ASCII字符意思了，所以叫转义。用来表达无法打印出来的字符，\和后面一个字符共两个字符组成一个字符，注意逃逸字符是1个字符。</p>
<p>终端本身是一个别人写好的程序，叫shell，我们写的程序由shell执行，我们的程序只和shell打交道，我们在键盘上输入是被shell接收，然后shell再传给我们的程序，我们的程序输出什么东西，传给shell，shell展示给我们看。在shell充当媒介的过程中并不诚实，它要做一些翻译工作，比如程序里面有逃逸字符，shell要把这些逃逸字符翻译出来展示给我们看。不同的shell会对相同的转义字符作出不同的翻译，比如 “\b” 在一些终端上是不显示的，在一些终端上显示BS(backslash)，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;123\bA&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出是 12A，可见\b是将后面的字符安排在\b前一个字符位置上并覆盖之，若\b后面没有字符，则不覆盖。当然也可能找到其它的shell，其对\b是不同的解释</p>
<p>\n : 换行符（newline）<br />
源自打字机，打字机上面的车(carriage)，随着打字，车会逐渐左移，打完1行用手把车拉回最右边叫回车，在这个过程中，要把纸往上抬一行，让打字机的写入位置放到下一行，就是换行。这俩字符在打字机上是两个动作，但我们在printf里面只用一个\n就实现了回车换行，那是因为shell会把我们程序的\n翻译成\n和\r<br />
\r : 回车符（carriage return）<br />
只有\r，则光标会跳到这一行的开头去，\r后面的内容会从头开始覆盖。<br />
\t : 制表符(tab) 相当于按下一个tab键<br />
表格位是说在每一行中有一些特定的位置，用一个\t可以让下一个输出从<strong>下一个</strong>表格位开始，比如当前光标在第3个表格位中间，后面加一个\t，光标就会跳到下一个表格位始端。\t不代表固定的字符数量而代表输出的位置，比如：<br />
abc |<br />
ab  |<br />
不管前面有几个字符，敲一个tab键光标都会跳到相同的位置。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;123\tA\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;12\tA&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">123</span>     A</span><br><span class="line"><span class="number">12</span>      A</span><br></pre></td></tr></table></figure>
<h1 id="day-9"><a class="markdownIt-Anchor" href="#day-9"></a> Day 9</h1>
<h2 id="类型转换"><a class="markdownIt-Anchor" href="#类型转换"></a> 类型转换</h2>
<ul>
<li>
<p>C语言的<strong>运算符</strong>2边出现不一致类型时会自动转换成较大的类型。<br />
<em>运算中整数型与浮点型的处理</em><br />
<strong>整数型的除法运算</strong>是<strong>舍位运算</strong>，而不是四舍五入，如 int t; t=20/3;这里的结果t=6；<strong>浮点型的运算</strong>按精度要求<strong>四舍五入</strong>。<br />
当运算中的<strong>两个数</strong>分别是浮点型和整数型是以浮点型的规则进行运算，当出现整数常数时，如3，可以写成3.0来表示浮点型格式。当算式中超过三个数时，<strong>从左到右</strong>分别按如上<strong>两位数的规则</strong>进行。</p>
<p>以下举例来说明一些情况：<br />
首先说明各个数值的类型，其次举例说明结果。</p>
<ol>
<li>整数型=浮点型/整数型：<br />
这个是以浮点型来运算的，但是结果是整数型的，例20.0/3=6.66…，但由于结果是整数型的，进行舍位，结果为6；</li>
<li>浮点型（0.1f）=浮点型/整数型：浮点型规则运算，结果等于6.7；</li>
<li>浮点型=整数型/整数型：整数型运算，计算结果舍位，等于6.0；</li>
<li>整数型/整数型×浮点型，同级运算<strong>从左到右</strong>，这里先进行整数型的除法，再进行浮点型乘法，如11/4×10.0=20；因为整数除法会舍位，故11/4=2，2×10=20.</li>
<li>float/float 进行运算，float自动转为double，所以结果是double;</li>
<li>int/float 进行运算，float同样会自动转成double，所以int也会转成double，所以结果是double.<br />
给我们的教训是我们在写程序时应注意变量类型的的定义，以及对精度有要求时尽量<strong>先计算浮点型</strong>，如果表达式最左边是浮点数，那么后面的算术运算都是最起码以浮点的规则进行计算。出现常数时用3.0这个书写形式定于为浮点型。</li>
</ol>
</li>
<li>
<p>所有的浮点运算都是以双精度进行的，即使运算中只有 float 类型，也要先转换为 double 类型，才能进行运算。</p>
</li>
<li>
<p>字符型数据和short型数据在算术表达式中，一律转换为int型数据后，再参与运算。这一点和JAVA一样。</p>
</li>
<li>
<p>将一个double赋给float，先将双精度转为单精度，即只取6-7位有效数字，存储到float型变量的4个字节中，当double的数值大小不超出float的数值范围时，编译器也不会报错，只是IDE会给警告。比如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> a = <span class="number">1.0</span>;</span><br><span class="line">    <span class="type">float</span> b = a;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f&quot;</span>, b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>一样能执行</p>
</li>
<li>
<p>将一个float赋给double，数值不变，在内存中以8个字节存储，有效位数扩展到15位。</p>
</li>
<li>
<p>将一个占字节多的<strong>整型</strong>(不是浮点数)赋给一个占字节少的整型变量时，只将低字节(即低地址)原封不动地送到被赋值地变量(即发送截断)。</p>
</li>
<li>
<p>当表达式中存在有符号类型和无符号类型时所有的操作数都自动转换为无符号类型。因此，从这个意义上讲，无符号数的运算优先级要高于有符号数，这一点对于应当频繁用到无符号数据类型的嵌入式系统来说是丰常重要的。</p>
</li>
<li>
<p>对于printf，任何小于int的类型都会自动转为int，float会自动转为double，这也是为什么scanf读入double时需要%lf，读入float%f即可；而printf输出double和float都是%f，，因为输出时不管原来是float还是double，都会自动转为double输出，所以printf里面只有%f没有%lf。在有些系统中printf里用%lf也不会出错，但是尽量还是按照标准来。但scanf就不行，想输入short必须%hd，想输入longlong要%ld。</p>
</li>
</ul>
<p>printf的%f说明符的确既可以输出float型又可以输出double型。 根据&quot;默认参数提升&quot;规则(在printf这样的函数的可变参数列表中 ，不论作用域内有没有原型，都适用这一规则)float型会被提升为double型。因此printf()只会看到双精度数。严格地讲，%lf在printf下是未定义的，但是很多系统可能会接受它。要确保可移植性，就要坚持使用%f。</p>
<p>对于scanf，情况就完全不同了，它接受指针，这里没有类似的类型提升。(通过指针)向float存储和向double存储大不一样，因此，scanf区别%f和%lf。</p>
<p>除了C语言的自动类型转换还有强制类型转换，但一般是大的往小的转才用到强制类型转换。比如<br />
(int)10.2//把浮点数转为整数<br />
(short)32//把int转为short</p>
<p>但是大转小有安全隐患，因为小的表达的数的范围比较小，可能存在溢出。</p>
<p>还要注意一点，类型转换只是临时性的，无论是自动类型转换还是强制类型转换，都只是为了本次运算而进行的临时性转换，转换的结果也会保存到临时的内存空间，不会改变数据本来的类型或者值。强制类型转换不是改变原有变量的值和类型，而是将新值赋给一个新的变量。比如<br />
int i=32768;<br />
short s=(short) i;<br />
i并不改变</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> a=<span class="number">2.0</span>;</span><br><span class="line"><span class="type">double</span> b=<span class="number">2.0</span>;</span><br><span class="line"><span class="type">int</span> i=(<span class="type">int</span>)a/b;</span><br><span class="line"><span class="type">int</span> j=(<span class="type">int</span>)(a/b);</span><br></pre></td></tr></table></figure>
<p>i和j是不同的，i的意思是先把a转成int再去和b运算得到的结果依然是double。因为强制类型转换的优先级高于四则运算。</p>
<h2 id="逻辑类型"><a class="markdownIt-Anchor" href="#逻辑类型"></a> 逻辑类型</h2>
<p>又叫bool类型，实际上在C99之前没有bool类型，做关系运算时得到的结果是整数0或1，C89开始有雏形，C99确定一个类型叫bool，但它不是原生类型，需要包含一个头文件&lt;stdbool.h&gt;，才能使用bool，但是它在计算机内部实际上还是整数。比如：<br />
bool b =6&gt;5;<br />
bool a =2; //a就=2了<br />
//这些都是合法的</p>
<h2 id="逻辑运算"><a class="markdownIt-Anchor" href="#逻辑运算"></a> 逻辑运算</h2>
<p>逻辑运算是对逻辑量进行的运算，结果只有0或1，关系运算是大于小于等于这些，但逻辑运算是或与非；<br />
逻辑；量是逻辑运算的结果。</p>
<ul>
<li>与(逻辑乘)：0&amp;&amp;1=0；0&amp;&amp;0=0；1&amp;&amp;1=1；</li>
<li>或(逻辑加)：0||0=0；0||1=1；1||1=1；</li>
<li>非：!1=0；!0=1；<br />
表达x∈(4,6)不是4 &lt; x &lt; 6，而是4 &lt; x &amp;&amp; x &lt; 6，判断一个字符是否是大写英文字母则，‘A’ &lt;= x &amp;&amp; x &lt;= ‘Z’,X &lt; 0 || X &gt; 99。<br />
赋值运算优先级永远是最低的，()永远是最高的，！由于是单目运算符所以优先级比加减乘除高，&amp;&amp;和||优先级比关系运算低。</li>
</ul>
<p>短路；逻辑运算是自左向右进行的，如果左边的结果已经能够决定结果，就不会再执行逻辑运算符右边的计算。譬如：</p>
<ul>
<li>a<mark>6&amp;&amp;b</mark>1，此时如果a<mark>6为true，就不会比较b</mark>1。</li>
<li>a–6&amp;&amp;b+=1，此时如果a==6为true，就不会做b+=1。<br />
对于&amp;&amp;左边是false就不做右边了<br />
对于||左边是true右边就不做了</li>
</ul>
<h2 id="条件和逗号运算"><a class="markdownIt-Anchor" href="#条件和逗号运算"></a> 条件和逗号运算</h2>
<p>条件运算符(还有关系运算符和逻辑运算符呢)：比如下面一段代码：<br />
if (count&gt;20)<br />
count=10;<br />
else<br />
count=11;<br />
可以用下面的条件运算符代替<br />
count=(count&gt;20)?count=10:count=11<br />
这又是一个编程语言早期遗漏下来的问题。现在一般不要用，不易读。</p>
<p>逗号在C语言里是一个运算符，用来连接两个表达式，然后用右边表达式的值作为运算的结果。逗号运算符是所有运算符里面优先级最低的，比 = 还低，<br />
i=3+4,5+6  输出i=7, 5+6没有赋给任何变量。逗号运算符确保操作数被顺序地处理：先计算左边的操作数，再计算右边的操作数。右操作数的类型和值作为整个表达式的结果。左操作数只是为了副作用需要而被计算，它其值会被丢弃。</p>
<p>逗号运算符就在for循环里有用武之地。如果想在for的括号里放多个计算就可以用,比如：<br />
for (i=0,j=10;i &lt; j;i++,j–)</p>
<h1 id="day-10"><a class="markdownIt-Anchor" href="#day-10"></a> Day 10</h1>
<h2 id="初见函数"><a class="markdownIt-Anchor" href="#初见函数"></a> 初见函数</h2>
<p>如果一段程序里面出现很多串重复的代码，那么就叫代码复制，出现代码复制是程序不良的表现，因为将来要修改可能要改很多处才改得完。我们拿出重复的部分封装起来，用到时调用它即可。</p>
<h2 id="函数的定义和调用"><a class="markdownIt-Anchor" href="#函数的定义和调用"></a> 函数的定义和调用</h2>
<p>函数是一块代码，有一个名字，接收0或多个参数，做一件事情，并返回0或1个值。<br />
<strong>注意最多只能返回1个值，这一点与python不同，python函数可以返回多个值。</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> begin, <span class="type">int</span> end)</span>          <span class="comment">// 函数头</span></span><br><span class="line">&#123;                                     <span class="comment">// 函数体 大括号一定要带</span></span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">int</span> sum;</span><br><span class="line">    <span class="keyword">for</span> ( i = begin; i &lt; end; ++i) &#123;</span><br><span class="line">        sum += i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>if 语句，while语句 后面只有一条语句时可以不加{}，但是函数体必须要用{}括起来。</p>
<p>sum是函数名，void英文单词是空虚的，顾名思义，就是函数不返回任何东西。sum后面跟的()是参数表，参数和参数之间用逗号分隔，即使函数不需要输入任何参数也要带()，</p>
<h2 id="从函数中返回"><a class="markdownIt-Anchor" href="#从函数中返回"></a> 从函数中返回</h2>
<p>return停止函数的执行，return有2种写法：</p>
<ul>
<li>return;</li>
<li>return 表达式 //单一变量也是1个表达式<br />
1个函数里面可以有多个return语句，也就是多个出口，但是最终只能返回1个值，但多个出口有个问题就是如果以后要修改，很可能要疲于奔命去修改，所以尽量做成单一出口。<br />
函数返回的值，<br />
我们可以把它赋给1个变量，<br />
也可以把它当作另一个函数的参数放到()里<br />
甚至可以直接调用，返回值丢掉，比如：function(a,b)，因为我们有时只是想要函数在执行本身产生的其它东西但不需要返回值。JAVA里的方法如果有return返回值，这个方法也可以直接调用，返回值不赋给任何变量，直接丢掉，也是没问题的</li>
</ul>
<p>void 函数名(参数表)<br />
这种不返回值得函数不能使用带值的return，可以是不带值的return; 或者直接不要return。但如果函数有返回类型则必须有返回值的return<br />
<strong>可以不写return；</strong><br />
调用的时候不能做返回值的赋值；<br />
如果函数名前面有返回类型，比如int double，**那就必须使用带值的return。**这一点和java一样</p>
<h2 id="函数原型"><a class="markdownIt-Anchor" href="#函数原型"></a> 函数原型</h2>
<p>C语言的编译器是自上而下顺序分析代码，看到main()函数里面的函数调用时，编译器需要知道函数需要输入几个参数，返回什么数，这样才能检查函数调用是否正确，所以函数定义要写在main()函数前面。</p>
<p>LLVM是一个检查严格的编译器，如果你把函数定义放在main()函数底下，会有warning和error。编译器在main()里碰见未被提前声明的函数会去猜那个函数长这样：int 函数名(int, int)，但是编译器继续往下执行一旦碰到后面的函数定义就会发现和前面猜的函数不一样，所以会给error。</p>
<p>但是我们又希望我们一打开这个程序就能看到main()函数，就能看到这个程序的大概，具体的函数定义这些细节我们想放在下面去看，怎么办？我们可以把函数头复制粘贴到main()前面并加上分号，这个叫函数的原型声明，函数定义放在main()下面，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> begin, <span class="type">int</span> end)</span>;  <span class="comment">// 函数的原型声明</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;123\tA\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;12\tA&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 函数定义</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> begin, <span class="type">int</span> end)</span>          <span class="comment">// 函数头</span></span><br><span class="line">&#123;                                     <span class="comment">// 函数体 大括号一定要带</span></span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">int</span> sum;</span><br><span class="line">    <span class="keyword">for</span> (i = begin; i &lt; end; ++i) &#123;</span><br><span class="line">        sum += i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>声明不是函数，声明只是在编译器碰到main()之前告诉编译器说，这个函数长这样，有几个参数，参数都是什么类型，要返回什么数，编译器再在main()里碰到这个函数调用时就不自己猜了，而是根据函数原型声明。编译器读到下面的函数定义时，还会判断之前的函数声明和它的函数定义对不对得上，所以函数原型的目的有2：</p>
<ul>
<li>当编译器在main()里碰见函数调用时，函数原型会告诉编译器这个函数的名称，函数的参数，函数返回的类型</li>
<li>碰到函数定义时，还会检查函数原型和定义能不能对得上。</li>
</ul>
<h2 id="参数传递"><a class="markdownIt-Anchor" href="#参数传递"></a> 参数传递</h2>
<p>调用函数时，给的参数类型和函数定义的参数类型不匹配，则编译器会偷偷进行类型转换再传递给函数，但这可能不是你所期望的，所以这是C语言传统上最大的漏洞，后续的语言，C++/java 再这方面就很严格。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;  <span class="comment">// 函数的原型声明</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">5</span>;</span><br><span class="line">    <span class="type">int</span> b=<span class="number">6</span>;</span><br><span class="line">    swap(a,b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d,b=%d&quot;</span>, a,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 函数定义</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>          <span class="comment">// 函数头</span></span><br><span class="line">&#123;                                     <span class="comment">// 函数体 大括号一定要带</span></span><br><span class="line">    <span class="type">int</span> t=a;</span><br><span class="line">    a=b;</span><br><span class="line">    b=t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出是 a=5,b=6，我们发现，这样的函数交换不了a和b的值，<strong>这是因为C语言在调用函数时，永远只能传值给函数</strong>，虽然函数里面的a和b和函数外面的a和b重名但没有任何关系，只是值一样。每个函数有它自己的变量空间，内部的参数也位于这个独立的空间中，和其它函数没有关系。在main()里头，swap()里面的a和b不存在。</p>
<p>有些教科书里面会说，函数原型和定义的参数表里面，叫形式参数，在函数调用里面我们给它的参数叫实际参数，形参和实参的概念来自于人类第一个高级编程语言FORTRAN，但现在我们一般把形参叫参数，实参叫值，因为C语言函数本质是传值而不是传参数。这一点和JAVA一样，JAVA里，全局变量(比如属性)，可以不赋值直接使用，比如属性不初始化，会默认给0或者null；但是局部变量必须赋值后才能使用。因为没有默认值，否则编译器会报错。</p>
<h2 id="本地变量"><a class="markdownIt-Anchor" href="#本地变量"></a> 本地变量</h2>
<p>函数<strong>每一次运行</strong>就会产生一个独立的变量空间(比如递归，每重复运行一次就开辟一块变量空间)，在这个变量空间的变量是这一次函数运行所独有的，我们称之为本地变量(局部变量)。函数结束运行，变量空间和它的本地变量消失不见。<br />
定义在函数内部的变量都是本地变量，目前为止我们所学过的变量都是定义在函数内部的变量，参数表里的参数也是本地变量。</p>
<ul>
<li>生存期：变量出现到消亡的一段时间。</li>
<li>作用域：在什么范围内可以访问这个变量。<br />
对于本地变量而言，其生存期和作用域的答案是统一的，即大括号{}内————块。</li>
</ul>
<p>本地变量是定义在块内的</p>
<ul>
<li>它可以是定义在函数的块内；</li>
<li>它也可以是定义在语句的块内，譬如<br />
if (a &lt; b){<br />
int i=10;<br />
}<br />
printf(&quot;%d&quot;,a);<br />
出了if语句的大括号，i就不存在了。</li>
<li>甚至可以随便拉一对大括号来定义变量<br />
{<br />
int i=10;<br />
}<br />
printf(&quot;%d&quot;,a);<br />
出了大括号，i就不存在了。</li>
</ul>
<p>基于此，可以在一些程序代码中间平白无故地去添加一个{}，并在其中敲一些可以做当前输出的调试代码，来查看代码运行到此处各个变量什么的状态是什么样的，由于{}存在，所以里面都是本地变量，并不会给外面的变量造成影响，</p>
<p>程序进入这个块之前，其中的变量不存在，离开这个块，其中的变量就消失了。<br />
块外面定义的变量在块里面依然有效，譬如：<br />
int a=1;<br />
{<br />
int i=10;<br />
}<br />
或<br />
{<br />
int a=10;<br />
{<br />
int i=1;  // 外层的变量对内层就是可访问的<br />
}<br />
}</p>
<p>如果在块里面定义一个和外面同名的变量，则编译器在块里面时，碰到块里面的同名变量后，同名变量会把外面变量覆盖掉，但碰到之前，即使是在块内也不会覆盖。出了块，块里面的变量就会消失。JAVA里也一样，java里全局变量在某个局部同名变量的作用域内也会被局部同名变量覆盖。需要注意的是，同一个作用域内不能定义两个同名变量，无论C还是JAVA。</p>
<p>本地变量不会被默认初始化，在 main 函数中定义的变量也一样，如果本地变量不初始化就使用它，它的值就是内存里面原来在的那个值，所以安全的做法是在第一次使用本地变量之前要初始化它。</p>
<p>几点说明:</p>
<ul>
<li>在 main 函数中定义的变量也是局部变量，只能在 main 函数中使用；同时，main 函数中也不能使用其它函数中定义的变量。main 函数也是一个函数，与其它函数地位平等。</li>
<li>在所有函数外部定义的变量称为全局变量（Global Variable），它的作用域默认是整个程序，也就是所有的源文件，包括 .c 和 .h 文件。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a, b;  <span class="comment">//全局变量</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">func1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//<span class="doctag">TODO:</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">float</span> x,y;  <span class="comment">//全局变量</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">func2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//<span class="doctag">TODO:</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//<span class="doctag">TODO:</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>a、b、x、y 都是在函数外部定义的全局变量。C语言代码是从前往后依次执行的，由于 x、y 定义在函数 func1() 之后，所以在 func1() 内无效；而 a、b 定义在源程序的开头，所以在 func1()、func2() 和 main() 内都有效。</p>
<ul>
<li>
<p>全局变量也有自己的作用域，定义在底下的全局变量，上面不能用；</p>
</li>
<li>
<p>extern 关键字可以把变量的作用域扩展到其他文件。加一个static前缀，则其他文件不能用这个全局变量，只能在本文件用，加了extern也不行。</p>
</li>
<li>
<p>在函数返回类型前面加一个static前缀，也是只能本文件调用该函数，比如本文件的调试函数。</p>
</li>
<li>
<p>不建议过多地使用全局变量或者静态本地变量，参考丰田汽车的案子，</p>
<ol>
<li>C语言是一个模块化语言，是由各个功能单一的模块组成的，改一个，其他模块就不用跟着改。如果功能不单一。会让模块之间的耦合度增加，修改一个模块势必造成其他模块跟着修改，造成鲁棒性下降。在划分模块时要求模块的内聚性强，与其它的模块耦合性弱。这是一个原则。但是全局变量会造成模块之间的耦合增强，鲁棒性下降。</li>
<li>如果在函数中引入全局变量，并且把函数移动到另一个文件去，还要考虑把全局变量移过去。并且，即使移动过去了，若该全局变量和新文件中的某一个变量重名，会出问题。这就降低程序的可移植性和通用性。</li>
<li>会长期占用内存，内存浪费；</li>
<li>全局变量的值很容易变的不可控，不知哪个地方就给你改个值，最后你不知道它的值是从哪赋来的。会降低程序的清晰度。</li>
</ol>
</li>
<li>
<p>CPU结构</p>
</li>
</ul>
<ol>
<li>运算器ALU</li>
<li>一组寄存器(PC、IR、PSW、DR、通用寄存器等)</li>
<li>控制器CU</li>
<li>中断系统</li>
</ol>
<ul>
<li>
<p>存储系统(速度依次递减)</p>
<ol>
<li>寄存器(一级)</li>
<li>cache(二级)</li>
<li>Memory(三级)</li>
<li>I/O(四级)</li>
</ol>
</li>
<li>
<p>C的存储类别</p>
<ol>
<li>static 放全局变量，存储在内存中的静态存储区；比如static int i = 0; 加了这个前缀，在内存上的位置就不同；从分配开始，到程序运行结束，都不释放。静态局部变量只初始化一次，不初始化它，会自动初始化为0。   <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">auto</span> <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">        <span class="type">static</span> <span class="type">int</span> b = <span class="number">1</span>;</span><br><span class="line">        a++;</span><br><span class="line">        b++;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;a = %d\nb = %d\n&quot;</span>, a, b);</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
输出：   <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">2</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line">a = <span class="number">2</span></span><br><span class="line">b = <span class="number">3</span></span><br><span class="line">a = <span class="number">2</span></span><br><span class="line">b = <span class="number">4</span></span><br></pre></td></tr></table></figure>
只在第一次进入循环时，b被初始化为1，后面的每一次循环，b都不在初始化为1，而是保留上次离开循环的值，但是a每进入一次循环都会被重新初始化为1</li>
<li>auto 一般放局部变量；定义局部变量可以确缺省Auto，比如 auto int i = 0; 一般都默认auto。</li>
<li>寄存器变量，把变量放在寄存器，这样速度就更快了。一组寄存器，有通用寄存器，专用寄存器，专用寄存器我们一般不能用，普通寄存器太少了，不能占多了，会影响整个系统的运行，所以一般不把变量定义在寄存器</li>
<li>全局的，也放在静态存储区；也可以用static声明，但没必要，因为已经放在静态存储区了。有stastic 全局变量，也有stastic 局部变量。静态本地变量就是特殊的全局变量。</li>
</ol>
</li>
</ul>
<h2 id="函数庶事"><a class="markdownIt-Anchor" href="#函数庶事"></a> 函数庶事</h2>
<p>当我们的函数定义时就确定不接收参数了，那我们写成 void 函数名(void)，还是写成 void 函数名() 呢？如果写成void 函数名()，则表示参数表要不要接收参数不知道，并不表示一定不接收参数，所以这样的函数原型声明了个寂寞，到了函数调用的时候，如果我们不小心传了参数，编译器会猜参数的类型是int，很可能给出的结果是错的，所以如果确定函数的参数表里没有东西，就用 void 函数名(void)。</p>
<p>另外函数参数表里如果有多个参数，要用逗号隔开，注意，这里的逗号仅仅是标点符号，不是逗号运算符。f(a,b)中的逗号是标点符号，传了2个值；f((a,b))中的逗号因为有()存在，所以是逗号运算符，最后只传了b一个值进去。</p>
<p>C语言不允许函数嵌套定义，允许在一个函数定义里面放另一个函数的声明，但不允许放另一个函数的body。这一点和java也类似，JAVA里的方法体里也不能再嵌套放另一个方法体。</p>
<p>return (表达式) 这么写也不错，表达式加个()也是表达式，但是这么写会有人误解这是一个函数，所以不要这么写。</p>
<p>好了，学了函数，我们突然想起来了一开始学C接触到的int main()，我们一直不知道它是干嘛的，现在越看它越像个函数，其实，它就是个函数。写出int main(void) 也没有问题。</p>
<p>main()函数虽然是我们写的代码当中第一个被<strong>执行</strong>的代码(C语言从main()函数开始执行)，但不是这个程序第一个运行的代码，在main()之前还运行了其它东西，这些东西为程序能成功运行而做准备，准备完后会来调用main()函数。所以main()结尾的 return 0，是有意义的，它要把这个0返回给调用它的地方，返回给一小段代码，那一小段代码会检查并报告给你的操作系统，报给Windows,报告给Unix。传统上，一个应用程序如果返回0则表示正常的运行结束，如果返回任何非0值则表示这个运行过程中出现错误。如果main 函数的最后没有写return 语句的话，C99 规定编译器要自动在生成的目标文件中(如exe 文件)加入return 0; ，表示程序正常退出。</p>
<h1 id="day-11"><a class="markdownIt-Anchor" href="#day-11"></a> Day 11</h1>
<h2 id="初试数组"><a class="markdownIt-Anchor" href="#初试数组"></a> 初试数组</h2>
<p>我们之前做了这样一个程序，如何写一个程序计算用户输入的数字的平均数。代码见下：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//计算average</span></span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> x=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="type">int</span> n=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (x != <span class="number">-1</span>)&#123;</span><br><span class="line">        sum += x;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">        n++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;average=%f&quot;</span>, (sum*<span class="number">1.0</span>)/n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>每输入一个数就加起来，这样我们不需要记录每一个数，但是如果问题改成，写一个程序计算用户输入的数字的平均数，并输出所有大于平均数的数，我们就不得不存下每一个输入的数，但是我们需要定义多少个int变量才能记录下每一个数，是不是觉得太麻烦了？所以引入新的数据类型——数组。数组顾名思义就是很多数的组合。</p>
<p>int number[100]; 定义了一个新的变量，这个变量是一个数组(不是int)，这个变量名字叫做number，这个数组里的每一个单元都是一个int，该数组大小是100即可以放100个int。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">double</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> number[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    <span class="keyword">while</span> (x!=<span class="number">-1</span>)&#123;</span><br><span class="line">        number[cnt]=x;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;cnt=%d\n&quot;</span>, cnt);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= cnt ; ++i) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d\t&quot;</span>, number[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        sum++;</span><br><span class="line">        cnt++;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cnt&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%f&quot;</span>, sum/cnt);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; cnt; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (number[i]&gt;sum/cnt)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, number[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>字符型数组是数组元素为char类型的一种数组。凡是适合数组的定义和赋值，也都适合于字符数组。由于C语言没有提供字符串类型(JAVA有String类型)，字符串一般用一维字符数组来存放，而二维字符数组可以存放多个字符串。</p>
<h2 id="数组的使用"><a class="markdownIt-Anchor" href="#数组的使用"></a> 数组的使用</h2>
<p>数组这样定义：&lt;类型&gt; 变量名称[元素数量]，类型是指元素的类型，必须有[]，<strong>没有方括号就是普通的变量</strong>。元素数量必须是整数。C99之前，元素数量必须是编译时确定的字面量，但C99以后就可以用变量来定义数组大小了，比如  int number[a] 但数组大小一旦确定下来大小就不能再变。</p>
<p>容器是一个放东西的东西，即容器。容器是现代编程语言中非常重要的一个基本概念，现代的编程语言都应该提供某种形式的容器。</p>
<p>数组就是一种容器，其特点是：</p>
<ul>
<li>其中所有的元素具有相同的数据类型；</li>
<li>数组大小一旦确定就不能改变；</li>
<li>在内存里，数组的元素是紧密连续依次排列的；</li>
</ul>
<p>数组不是C语言才有的，FORTRAN就有数组了，但是数组的索引从0开始编号是从C语言开始的，之所以这么干是因为希望当年C语言的编译器可以做的很简单，从0开始编译器可以省很多事情，从那以后，C-like语言都是从0开始索引。</p>
<p>C语言的编译器和运行环境都不会检查下标是否越界，无论是对数组单元读还是写。一旦数组越界，可以会导致程序崩溃，也可能无事发生，这也就是有时候在我的电脑上程序运行成功，在你的电脑上就不行了。有效下标就是0-(数组大小-1)，int a[0] 可以存在但无用。</p>
<p>数组和本地变量一样，<strong>不会被默认初始化</strong>，所以为了安全，一定要在使用它之前初始化它，初始化方法比较麻烦，写循环遍历每一个元素给它赋值。</p>
<h2 id="数组运算"><a class="markdownIt-Anchor" href="#数组运算"></a> 数组运算</h2>
<p>我们在定义数组时有2种方案：</p>
<ul>
<li>int number[a] 我们这种定义不能去初始化它，它也不会被默认初始化，所以后面我们想使用它还得写个循环去初始化它。</li>
<li>int a[]={1,2,2,4,5}; 这是第2种方案，叫数组的集成初始化，我们没有给数组的大小，我们让编译器替我们去数。如果改成：int a[10]={2}; 则数组的第一个元素为2，剩下9个元素均为0，所以我们使用 int a[10]={0}; 来初始化一个数组让其所有元素均为0，就不用再写循环初始化了。<br />
另外我们还可以这样，int a[10]={[0]=2,[2]=3,6}; 这样的意思是创建一个10个元素的数组，索引为0的元素赋2，索引为2的元素赋为3，索引为4的元素赋为6，其余元素均为0，但这种方式仅C99以后才支持.</li>
</ul>
<p>a[0] (a是一个数组) 这就是一个变量，和正常的变量一样去使用它。</p>
<p>运算符 sizeof()，它可以给出某个类型或者某个变量在内存中占据的字节数,这个运算符也适合数组。 int a[10]; 则 sizeof(a)得到的是40，即一个int占4个字节，10个元素共占40个字节。这样的话，我们就可以用 sizeof(a)/sizeof(a[0]) 来表达数组a的元素个数，这么做的好处是一旦我们修改数组中初始的数据，我们不需要修改遍历的代码。</p>
<p>int a[10]={0};<br />
<s>int b[]=a;</s><br />
数组变量不能直接这样赋值，讲指针的时候再细讲。所以如果想把一个数组的所有元素交给另一个数组则必须采用遍历，a[i]=b[i] 是可行的，这也是唯一一个把一个数组完全赋给另一个数组的方法，别无他法。</p>
<p>程序员在写循环时通常都是从0开始到 &lt; 某个数，很少能够看到 &lt;= ，</p>
<p>特别需要注意的是，数组作为函数参数时，我们往往需要另一个参数来传入数组的大小，为什么呢？因为数组一旦传入参数，我们便不能再用 sizeof() 来计算数组元素的个数了，至于为什么要到指针再扯。</p>
<p>int a[10]={0};<br />
int cnt=0;<br />
a[cnt++]=i;<br />
最后一句的意思是，我们把当前的i赋给cnt<ins>所在位置的元素，同时cnt本身+1，下一次的 a[cnt</ins>] 已经是下一个位置的元素，下一次再赋值自动的就是赋给下一个位置的元素。</p>
<h2 id="二维数组"><a class="markdownIt-Anchor" href="#二维数组"></a> 二维数组</h2>
<p>我们上面讲的都是一维数组，C语言除了做一维数组还能做二维三维更往上的。<br />
二维数组通常理解为一个矩阵，对于二维数组的索引，C语言和线代里面对矩阵的索引是一样的，int a[3][5] 是指第3行第5列的元素。int a[3,5] 此时逗号是个运算符，即等价为 int a[5] ，所以这样写并不是一个正确的索引二维数组的方式。</p>
<p>二维数组也可以做集成初始化，例如：<br />
int a[][5]={<br />
{0,1,2,3,4},<br />
{5,6,7,8,9}<br />
};<br />
编译器只能数一维的个数，所以列数不能省，和一维数组一样，如果有省略的则补0。有些人用不带{}的一连串的数字也能定义二维数组，因为内存中就是这样存的，实际存储是一维的，线性的。二维数组是按行连续存放的，第一行存完，接着存下一行。<br />
二维数组初始化：</p>
<ol>
<li>
<p>int a[3][3] = {1，2，3，4，5，6，7，9，5}; 编译器会根据列数去自动划分。</p>
</li>
<li>
<p>int a[][3] = {1，2，3，4，5，6，7，9，5}; 编译器会根据列数去自动划分行。</p>
</li>
<li>
<p>int a[3][3] ={ {1}, {5}, {9} };  则等价于 int a[3][3] ={ {1, 0, 0}, {5, 0, 0}, {9, 0, 0} };</p>
</li>
<li>
<p>int a[3][3] ={ {1}, {5} }; 则等价于 int a[3][3] ={ {1, 0, 0}, {5, 0, 0}, {0, 0, 0} };</p>
</li>
<li>
<p>int a[3][3] ={ {1}, {}, {5} }; 则等价于 int a[3][3] ={ {1, 0, 0}, {0, 0, 0}, {5, 0, 0} };</p>
</li>
<li>
<p>int arr1[2][3] = {0}; /* 所有元素都初始化为0 */</p>
</li>
<li>
<p>int arr1[2][3] = {1}; /* 只有arr1[0][0]为1，其他所有元素都初始化为0 */</p>
</li>
<li>
<p>char b[10][5] = {          //这是一个二维数组,所以第2个[]里的数不能省,编译器不会替我们去数. b[][5]是可以的, 但b[10][]不行<br />
“ling”,<br />
“yi”,<br />
“er”,<br />
“san”,<br />
“si”,<br />
“wu”,<br />
“liu”,<br />
“qi”,<br />
“ba”,<br />
“jiu”</p>
<pre><code>             &#125;;
             二维字符型数组也可以这样初始化, 'ling'后面默认补个'\0', 'yi'后面补仨这样, 输出的话直接,printf(&quot;%s&quot;, b[0]); 即可
</code></pre>
</li>
<li>
<p>char *b[] = {                 //这是一个一维数组,所以[]里面不用加数字,编译器会替我们去数.<br />
“ling”,<br />
“yi”,<br />
“er”,<br />
“san”,<br />
“si”,<br />
“wu”,<br />
“liu”,<br />
“qi”,<br />
“ba”,<br />
“jiu”</p>
<pre><code>             &#125;;
             这不是二维字符型数组,这是一个一维指针数组, 其中每一个指针指向 常量池的一个字符串.定义字符串有用数组定义和指针定义两种方式, 一个const在 * 号前,一个在 * 号后,上一种定义二维字符型数组,就是把字符串放在这里, 与数组名放在一起, 9这种方式就是把字符串放在常量池,这里只放指针. 输出的话也是直接,printf(&quot;%s&quot;, b[0]); 即可
</code></pre>
</li>
</ol>
<h2 id="取地址运算"><a class="markdownIt-Anchor" href="#取地址运算"></a> 取地址运算</h2>
<p>scanf里面必须要加 &amp; ，否则运行会报错，&amp; 其实是C语言的一个运算符，它运算什么呢？它用来获得变量的地址，因此它的操作数必须是<strong>变量</strong>。&amp;(i++)  &amp;(a+b)，这都会报错，必须是一个确定的变量才行。变量地址是什么？我们对变量的定义是：变量是保存数据的地方，C语言的变量是放在内存里的，比如定义一个 int 变量，它存在内存里并占用4个字节，它存在那个地方，那个地方就有个地址，所以 &amp; 运算符就是把变量的那个地址拿出来告诉你。</p>
<p>我们想看看这个地址长什么样，于是我们用这样的代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;0x%x\n&quot;</span>, &amp;i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;i);</span><br><span class="line">    <span class="type">int</span> p;</span><br><span class="line">    p=(<span class="type">int</span>)&amp;i;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;0x%x\n&quot;</span>, p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出结果是：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0xd99ffa98</span></span><br><span class="line"><span class="number">000000</span>c2d99ffa98</span><br><span class="line"><span class="number">0xd99ffa98</span></span><br></pre></td></tr></table></figure>
<p>我们发现用 %p 和转成int型再用 %x 输出结果是一样的，这是因为我们用32位架构编译，如果我们换成64位架构再来一遍，则转成int输出和%p输出便不一样了，因为在64位架构下编译，int占4个字节，&amp;i占8个字节。但是在32位架构下编译，int占4个字节，&amp;i也占4个字节。所以这个变量的地址的大小，它的数据类型，和int是否相等，取决于编译器，取决于64位还是32位架构，地址和整数并不是永远相同的，所以我们要用printf输出一个地址，我们要用%p而不是当成int型输出。</p>
<p>scanf里面必须要加 &amp; ，否则运行会报错，但是我们调用scanf时忘记加&amp;，传入int型编译也能过，比如<br />
int i=6;<br />
scanf(&quot;%d&quot;,i);<br />
虽然编译不报错但是运行会报错，是因为在32位架构下，int和地址一样，scanf把你传入的int值当作了地址，所以编译不出错，之所以运行会报错是因为，向错误的地址6(i值而不是i的地址)写入了你输入的东西，6那个地方很小，那个地方有很重要的东西，不可能被写入。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> p;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出是：<br />
000000abc29ff6fc<br />
000000abc29ff6f8</p>
<p>在十六进制中，上面两个地址之间差了4，而我们知道在32位架构下，int就是4个字节，因此我们得知，两个变量i和p在内存中存放的位置是挨着的，所以两个变量的地址之间相差了4个字节，但是我们注意到 i 是fc，p 是f8,也就是说i是先定义的变量但所储存的位置在后定义的p上面，i在更高的地方，这俩变量都是<strong>本地变量</strong>，它们分配在堆栈里(stack)，在stack里分配变量是自顶向下分配，所以先写的变量地址更高，但它俩是紧挨着的。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">10</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;a[<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;a[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;a[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">000000</span>af869ffb90</span><br><span class="line"><span class="number">000000</span>af869ffb90</span><br><span class="line"><span class="number">000000</span>af869ffb90</span><br><span class="line"><span class="number">000000</span>af869ffb94</span><br><span class="line"><span class="number">000000</span>af869ffb98</span><br></pre></td></tr></table></figure>
<p>我们直接拿数组a当作地址输出，编译是过的。我们做了一个数组，里面有10个int，从输出来看 &amp;a=a=&amp;a[0]，而&amp;a[2]和&amp;a[1]和&amp;a[0]之间逐步差4个字节。</p>
<h2 id="指针"><a class="markdownIt-Anchor" href="#指针"></a> 指针</h2>
<p>我们前面看到取地址符&amp;这么花，可以看到数组里面元素的地址怎么排列的等等，有什么用呢？我们想一想scanf()，它作为一个函数，需要在参数表里传入变量的地址，说明scanf内部有一个东西可以接收外部传入的地址并保存之。我们前面试过，如果你把一个地址交给一个整数，这个方法不靠谱，因为整数和地址不见得永远都是相同类型的，那么什么类型可以接收取地址运算得到的那个地址呢？答案是<strong>指针</strong>。一个指针类型的变量，就是用来保存地址的变量。我们通常用p来命名指针变量因为，p可以看作pointer的缩写，</p>
<p>int* p = &amp;i</p>
<p>int*表示后面的变量p是一个指针，且指向一个int变量。我们原本有个int型变量i，然后又定义一个指针变量p，假设i放在0x2000的地方，则通过上面的表达式，p的值就被赋为0x2000，此时我们称这种情况为：p指向i。所以当我们在说p指向i时，我们实际的意思就是p的值是i那个变量的地址。</p>
<p>int* p,q;<br />
int *p,q;</p>
<p>这两行是等价的，都表示p是一个指针指向一个int，q是一个普通的int型变量。所以实际上，*是加给p，p才成为指针的，而不是加在int上的。不管 * 靠近p还是靠近int，我们说 *p 是指向一个int于是p成为一个指针，<strong>而不是说p是 int * 这种类型</strong>。如果想表达p和q都是指向int的指针，则应该按下面表达：</p>
<p>int * p,* q</p>
<p>当然，千万别解引用未初始化的指针，否则会引起严重错误。</p>
<p>普通的变量，放的内容就是实际的值，但指针变量里不会放实际的值，我们只会放别的变量的地址，int* p，里面只会有别的int型变量的地址。</p>
<p>当我们想往函数里传入&amp;i的值时，我们在参数表里只能用指针类型接收，而不能用int型接收，因为不同架构下，地址不一定等于int。</p>
<p>当参数表里需要指针作为参数时，e.g. void f(int* p); 当我们调用这个函数时，我们要交给它一个地址，比如&amp;i，而非变量，这就意味着在函数里面我们便可以掌握外层变量的地址，我们如果只往函数里传普通变量，则函数只能掌握外层变量的值，和外层变量没什么关系了，所以通过传外层变量的地址进函数，就使函数拥有访问外层变量的能力了，访问意味着读和写。*时一个单目运算符，用来访问指针的值所表示的地址上的变量， *p可以做左值也可以做右值，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> *p)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">g</span><span class="params">(<span class="type">int</span> k)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i=<span class="number">6</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;i=%p\n&quot;</span>, &amp;i);  <span class="comment">//不能调用g()，因为g()不能接收&amp;i</span></span><br><span class="line">    f(&amp;i);</span><br><span class="line">    g(i);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> *p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p=%p\n&quot;</span>, p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*p=%p\n&quot;</span>, *p);</span><br><span class="line">    *p=<span class="number">26</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">g</span><span class="params">(<span class="type">int</span> k)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：<br />
&amp;i=0000001a671ff71c<br />
p=0000001a671ff71c<br />
*p=0000000000000006<br />
26</p>
<p>C语言函数调用时发生的永远是值的传递，虽然能通过指针改外层的变量，但是依然是传递的地址的值。</p>
<p>赋值号左边的叫<strong>左值</strong>，之所以不叫变量，那是因为赋值号左边的那一坨，是表达式计算的结果，而不是变量，比如：<br />
a[0]=2;<br />
*p=3;</p>
<p>*是个运算符， *p表示我要取得p上面存的地址所代表的那个变量，所以这是一个表达式运算结果，数组的那个[]，也是一个运算符，取里面元素的一个运算符，所以a [0]不是变量， *p也不是变量，他们是表达式运算的结果，它本质上是值，所以叫左值。同理，出现在赋值号右边的叫右值。</p>
<p>*和&amp;是一对相互反作用的运算符。比如 ：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a, b;</span><br><span class="line"><span class="type">int</span> *p, *p1;</span><br><span class="line">p = &amp;a;</span><br><span class="line">b = *(&amp;a); <span class="comment">// 等价于 b = a</span></span><br><span class="line">p1 = &amp;(*p); <span class="comment">//等价于 p1 = p</span></span><br></pre></td></tr></table></figure>
<p>因此我们可以看到这是<strong>互逆</strong>的一对运算符；</p>
<p>用变量名直接方法叫<strong>直接访问</strong>；用指针去访问叫<strong>间接访问</strong>；* 号又叫间接访问运算符。在定义指针的时候加 * 号，并不会间接访问它指向的变量，在后面加 * 号才会表现出间接访问的功能。</p>
<p>指针变量不能直接赋值，比如：<br />
int *ptr;<br />
ptr = 0x111111 必然是错误的</p>
<p>只有在强制转换右值为指针所声明类型后才能赋值，如ptr = (int *)0x111111<br />
如果是char *ptr，赋值的时候注意用ptr = (char *)0x111111就好了。</p>
<h2 id="指针的使用"><a class="markdownIt-Anchor" href="#指针的使用"></a> 指针的使用</h2>
<p>讲了那么多指针，有什么用呢？</p>
<ul>
<li>指针应用场景一：<br />
还记得之前我们写的swap()函数吗，我们企图写个函数能交换两个变量的值，但是发现函数永远只能传值，不能改变外面的变量的值，所以失败了，但现在我们能用指针去实现。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> *pa, <span class="type">int</span> *pb)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a=<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> b=<span class="number">2</span>;</span><br><span class="line">    swap(&amp;a,&amp;b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d, b=%d&quot;</span>, a,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> *pa, <span class="type">int</span> *pb)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> t=*pa;</span><br><span class="line">    *pa=*pb;</span><br><span class="line">    *pb=t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>指针应用场景二：<br />
我们前面学到，C语言函数不像python函数可以返回多个值，C语言函数最多return 1个值或者不返回值。我们如果想用C语言函数返回2个或2个以上的值，可以用指针做到。JAVA里面一个方法也是最多返回一个值，JAVA里面如果想返回多个值，可以返回一个数组，一个List等。其实python函数表面上可以返回多个值，本质上也是最多返回一个值，只不过利用了tuple的自动打包，将多个值打包成单个tuple返回。</li>
<li>指针应用场景三：<br />
函数返回运算的状态，结果通过指针返回。<br />
函数在运算中可能会出错，常用的套路是让函数返回特殊的不属于有效范围内的值来表示出错。在C语言的标准库里，和文件相关的操作我们会看到大量的例子：这些函数要么返回-1，要么返回0，用来表示说这些操作没成功，但是如果你构造的函数，返回任何数值都是有效的结果，都表示函数成功运行下来了，那么就没办法通过返回值来表达运行是否出问题了，此时需要分开返回，往往采用运行状态用return返回，需要返回的值通过指针来返回。在C我们只能用这种方式来做，但是在后续语言比如C++、Java，可以通过异常的机制来解决这样的问题。</li>
<li>指针应用场景四：<br />
需要传入较大数据时，比如向函数传数组，可以传指针节省空间和时间。</li>
<li>指针应用场景五：<br />
需要动态申请内存时。</li>
</ul>
<p>使用指针最常见的错误是，定义了指针变量，还没有指向任何变量，就开始使用指针。例如：<br />
int *p;<br />
int k=12;<br />
<s>*p=12</s>;<br />
所有的本地变量都不会有默认的初始值，所以p里面现在是一些乱七八糟的值，可能会指向一片莫名其妙的地方，所以再说 *p=12 时是在说向那片莫名其妙的地方写入12，那个地方侥幸可以被写入就不会出错。那个地方如果是个不能被写入的地方，那程序就会崩溃，</p>
<h2 id="指针与数组"><a class="markdownIt-Anchor" href="#指针与数组"></a> 指针与数组</h2>
<ul>
<li>数组是具有相同类型的结合。</li>
<li>字符型数组在计算机内部用其对应的ASCII码值进行存储。</li>
<li>一般用&quot;&quot;引起的字符串，不用数组保存时，一般都被直接编译到字符常量区，并且不可被修改，这一点和JAVA的String类一样</li>
</ul>
<p>int a[5];</p>
<p>我们前面已经知道，对于数组a，有 &amp;a=a=&amp;a[0] ，数组名 a 一般情况下代表数组首元素的地址(除非是sizeof(a)等特殊情况)，即 &amp;a[0]==a，而整个数组的地址需要取地址运算符&amp;才能得到，为 &amp;a 。数组名和数组首元素地址一般情况下可以视为相同，但是，数组的地址虽然和前面两个数值上相同，但概念不同，代表的不是同一个东西，&amp;a 代表整个数组在内存中的地址。a 与 &amp;a 的步长不一样，a代表的是数组首元素的地址，也是数组的首地址，a加1等价于加一个数组元素类型的长度；&amp;a代表的是整个数组的地址，加1等价于加整个数组的长度。首地址+1得到的是跳过整个数组的地址，首元素地址+1得到的是下一个元素的地址。</p>
<p>下面的几行代码可以清楚地看出数组名就是该数组首元素的地址。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">5</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="type">int</span> *p = &amp;a[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, a + <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, a + <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, a + <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, a + <span class="number">3</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, a + <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p + <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p + <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p + <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p + <span class="number">3</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p + <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(a + <span class="number">0</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(a + <span class="number">1</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(a + <span class="number">2</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(a + <span class="number">3</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(a + <span class="number">4</span>));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(p + <span class="number">0</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(p + <span class="number">1</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(p + <span class="number">2</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(p + <span class="number">3</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(p + <span class="number">4</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0000003</span>c957ff780</span><br><span class="line"><span class="number">0000003</span>c957ff780</span><br><span class="line"><span class="number">0000003</span>c957ff784</span><br><span class="line"><span class="number">0000003</span>c957ff788</span><br><span class="line"><span class="number">0000003</span>c957ff78c</span><br><span class="line"><span class="number">0000003</span>c957ff790</span><br><span class="line"></span><br><span class="line"><span class="number">0000003</span>c957ff780</span><br><span class="line"><span class="number">0000003</span>c957ff780</span><br><span class="line"><span class="number">0000003</span>c957ff784</span><br><span class="line"><span class="number">0000003</span>c957ff788</span><br><span class="line"><span class="number">0000003</span>c957ff78c</span><br><span class="line"><span class="number">0000003</span>c957ff790</span><br><span class="line"></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>但是万万不可做 a++ 或者 a += 1；这种游戏，因为数组名是const指针，不可被改变。<br />
a[n] 本质上就是 *(a + n)</p>
<ul>
<li>数组名一般可以看作一个常量指针，即决定了在表达式中数组名只能作为右值使用。但数组名始终不是指针。<br />
只有在下面2种场合中数组名不能看作常量指针：</li>
</ul>
<ol>
<li>数组名作为sizeof()操作符的参数时，得到的是整个数组在内存中占用的空间。</li>
<li>数组名作为&amp;运算符的参数。<br />
以上两种情况，a 被看作整个数组(整个连续的空间)，而非数组名。<br />
所以我们之前说：<br />
int a[10]={0};<br />
int b[];<br />
int <em>p=a;<br />
<s>b=a;</s><br />
b=a之所以不行，就是因为数组名 b 是一个const指针，即b创建出来代表这个数组，就不能被改变了。因此赋值号左边永远不可能是已经固定了长度的数组，只能使用int</em>。int *p=a; 正常的指针还是可以被赋予数组名的。</li>
</ol>
<ul>
<li>数组名不包含数组的长度信息。</li>
</ul>
<p>我们都知道，C语言函数永远传的是值，那么我们把一维数组传到函数里，那函数接收到的是什么东西？答案是，函数会接收到一个整型指针。其中的原因多数教科书都有做解释。因为数组占用的空间往往很大，如果要拷贝赋值到形参中，每次调用函数都需要很长时间做传参拷贝，因此C语言做了妥协，只传递数组的首元素地址给形参。可见，func(arr)和func(&amp;arr[0])是等价的。对于形参声明，int a[]和int* a也是等价的，只不过int a[]的写法更容易让人看出是个数组。此外，若写int a[5]，这里的5也没用，哪怕写100也没用，都与int*a等价，因为编译器只传递了首地址，它会无视这里的长度。因此数组作为函数参数时，我们往往需要另一个参数来传入数组的大小，数组一旦传入参数，我们便不能再用 sizeof() 来计算数组元素的个数了，现在我们知道了原因，因为传入数组的是数组名也就是数组首元素的地址也就是一个常量指针，sizeof()出来的是一个地址的大小是一个指针的大小而不是整个数组的大小。</p>
<p>所以如果您想要在函数中传递一个一维数组作为参数，您必须以下面三种方式来声明函数形式参数，这三种声明方式的结果是一样的，因为每种方式都会告诉编译器将要接收一个整型指针。</p>
<ol>
<li>void function(int *arr)</li>
<li>void function(int a[])   // 使用方括号 [] 声明函数数组参数的一个优点就是可读性好，它可以显著地标识出函数将该参数作为指向数组的指针。</li>
<li>void function(int a[5])  // 当使用数组来声明函数参数时，方括号 [] 内的任何<strong>常量表达式</strong>都会被忽略。就函数而言，数组的长度是无关紧要的，因为 C 不会对形式参数执行边界检查。也就是a[5] 中的5，改成6改成7随便改成其它正整数都可以。这个[]括号仅仅比表明这是一个指针。</li>
</ol>
<p>我们在函数外定义一个数组：<br />
int a[10];<br />
然后在底下写个函数：<br />
void function(int a[]);<br />
{<br />
a[0]=1000;<br />
}<br />
再将a数组传给函数，则我们发现在函数里面改函数的元素的值，对函数外面的a生效，这与我们前面了解到的普通变量不一样，我们很容易想到，数组传给函数，传进去的其实是个<strong>地址</strong>，接收这个地址的是个指针，就等价于：把 &amp;a 传给：<br />
void function(int *a);<br />
{<br />
a[0]=1000;<br />
}<br />
但是我们疑惑的是，根据我们之前学的int型变量的指针传入函数，不应该是这样才能在函数体里操纵指针来改外面的值吗？<br />
void function(int *a);<br />
{<br />
*a[0]=1000;  // 我们想用 *a来表示外面的那个数组，现在为什么不加 * 号就行？<br />
}<br />
原因是 <strong>[] 这个运算符可以对数组做也可以对指针做</strong>，就是这么规定的，不加 * 就可以这么干。而 *a，是数组 a 的首元素。<br />
int min=1000;<br />
int *p= &amp; min;<br />
printf(&quot;%d&quot;, *p);<br />
printf(&quot;%d&quot;, p[0]);<br />
输出都是1000，因此我们得知，p[0]实际上就是相当于 <em>p[0]，就是</em>(p + 0)，在有[]出现时， * 可以省略，只是把它所指的地方当作一个长度为1的数组。</p>
<p>至于多维数组和指针，看懂下面的判断题就基本搞定了，详见《C Primer Plus (第6版)》第10章10.7，<strong>指针和多维数组</strong>。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">5</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> *p3 = &amp;arr;                         <span class="comment">// 错</span></span><br><span class="line"><span class="type">int</span> (*p2)[<span class="number">5</span>] = arr;                     <span class="comment">// 错</span></span><br><span class="line"><span class="type">int</span> (*p1)[<span class="number">5</span>] = &amp;arr;                    <span class="comment">// 对</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> zippo[<span class="number">4</span>][<span class="number">2</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> (*pointer1)[<span class="number">2</span>] = &amp;zippo[<span class="number">0</span>];         <span class="comment">// 对</span></span><br><span class="line"><span class="type">int</span> (*pointer7)[<span class="number">2</span>] = zippo;             <span class="comment">// 对 zippo是个基类型为一维数组的指针，把它赋给另一个指针pointer7，很合理</span></span><br><span class="line"><span class="type">int</span> (*pointer2)[<span class="number">3</span>] = &amp;zippo[<span class="number">0</span>];         <span class="comment">// 错</span></span><br><span class="line"><span class="type">int</span> (*pointer3)[<span class="number">2</span>] = &amp;zippo[<span class="number">0</span>][<span class="number">0</span>];      <span class="comment">// 错</span></span><br><span class="line"><span class="type">int</span> *pointer4 = &amp;zippo[<span class="number">0</span>][<span class="number">0</span>];           <span class="comment">// 对</span></span><br><span class="line"><span class="type">int</span> (*pointer5)[<span class="number">2</span>] = &amp;zippo;            <span class="comment">// 错</span></span><br><span class="line"><span class="type">int</span> (*pointer6)[<span class="number">4</span>][<span class="number">2</span>] = &amp;zippo;         <span class="comment">// 对</span></span><br><span class="line"><span class="type">int</span> (*pointer8)[<span class="number">2</span>] = zippo;             <span class="comment">// 对</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="指针与const"><a class="markdownIt-Anchor" href="#指针与const"></a> 指针与const</h2>
<p>下面说的仅适用于C99.<br />
int * const q  = &amp;i ;<br />
意思是q里面的值不能再变，即q指向i的内存那块地，这个关系不能再变，<br />
*q = 26  OK<br />
<s>q++</s>  因为q时const，不能变。</p>
<p>const int <em>p = &amp;i ;<br />
此时，i的值可以变，p的值也可以变，不能变的是，不能通过</em>p去改变i的值，<br />
i = 26;   OK<br />
p = &amp;j ;  OK<br />
*p = 26;  不可以</p>
<p>int i;<br />
const int* p1 = &amp;i ;<br />
int const* p2 = &amp;i ;<br />
int <em>const p3  = &amp;i ;<br />
判断那个被const了的标准是const在</em>的前面还是后面，<strong>所以前两个是等价的</strong>，即不能通过 *p修改i的值。最后一个表示指针p的值不能被修改。</p>
<p>我们可以借助const指针这个特性，去做一些方便的事情，比如把一个非const得值转成const，比如下面这些代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">f</span><span class="params">(<span class="type">const</span> <span class="type">int</span>* x)</span>;</span><br><span class="line"><span class="type">int</span> a = <span class="number">15</span>;</span><br><span class="line">f(&amp;a);</span><br></pre></td></tr></table></figure>
<p>这样的话就可以确保这个函数f不会对外面的a值作出修改。当传递的参数类型比地址大时，这是常用的手段，既能用较少的字节数传递值给参数，又能避免函数对外面的变量进行修改。</p>
<p>既然数组已经是一个const指针了，已经是 *const数组名 了，不能再指向别的内存了，那么 * 号前面再加一个const是什么意思呢？<br />
const int a[] = {1,2,3,4,5};<br />
意味着这个数组里面所有的元素都是const，都不能再改变了。</p>
<h2 id="指针运算"><a class="markdownIt-Anchor" href="#指针运算"></a> 指针运算</h2>
<p>对于四则运算，a+1就是比a多了1而已，但是对于指针运算不是如此。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> ac[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>,<span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">    <span class="type">char</span> *p = ac;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p=%p\n&quot;</span>, p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p+1=%p\n&quot;</span>, p + <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> ai[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>,<span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">    <span class="type">int</span> *q = ai;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;q=%p\n&quot;</span>, q);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;q+1=%p\n&quot;</span>, q + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p=<span class="number">0000009f</span>f63ffbe6</span><br><span class="line">p+<span class="number">1</span>=<span class="number">0000009f</span>f63ffbe7</span><br><span class="line">q=<span class="number">0000009f</span>f63ffbb0</span><br><span class="line">q+<span class="number">1</span>=<span class="number">0000009f</span>f63ffbb4</span><br></pre></td></tr></table></figure>
<p>sizeof(char)=1,sizeof(int)=4,可见，指针+1，不是真的加1，而是在地址值上加一个sizeof(该指针所指的类型)，加了4个字节。对指针做一个+1的动作，意味着，指到下一个单元去。如果真的让地址+1，比如让q=0000009ff63ffbb0+1=0000009ff63ffbb1，那对int数组就没有什么意义了。</p>
<p>另外，如果指针不是指向一片连续分配的空间，如数组，那么这种运算也是没有意义的。</p>
<p>在上面的代码中，*p 等价于 ac[0], *(p+1)等价于ac[1], *是单目运算符，优先级高，即， *(p+n)等价于ac[n]。</p>
<p>不仅+可以，-也可以。++或–也行。也可以做比较，就是地址的大小比较。但是没有乘除，指针做乘除没有意义</p>
<p><strong>数组名</strong>不能++，因为数组名是一个常量指针，不能变。</p>
<p>在上面那段代码后面加上这段：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *p1 = &amp;ac[<span class="number">5</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p1-p=%d&quot;</span>, p1-p);</span><br><span class="line"><span class="type">int</span> *q1=&amp;ai[<span class="number">6</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;q1=%p&quot;</span>, q1);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;q1-q=%d&quot;</span>, q1-q);</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p1-p=<span class="number">5</span></span><br><span class="line">q1=<span class="number">0000008b</span>949ffac8</span><br><span class="line">q1-q=<span class="number">6</span></span><br></pre></td></tr></table></figure>
<p>q1-q=6，而q1的值和q的值差24，一个int型又是4字节，因此，指针之间的减法减出来的是中间差几个元素。如果 p 和 q1 不是指向同一个数组，那么这样相减是没有意义的。</p>
<p>*p++ ,<ins>的运算符优先级和 * 同级，但是是自右向左，所以后面不用带()，但是加括号更易读。p</ins>的结果是<ins>以前的结果，先做p</ins>，再由 * 取出p++ 的值，也就是说，取出p所指的那个暑数据来，完事顺便把p移到下一个位置去，常用于数组这样连续空间的遍历操作，以前我们想遍历数组，往往使用for循环，现在我们可以用这个技巧来遍历数组。</p>
<p>其实 *p++ ，在最开始的CPU上可以直接被翻译成一条汇编指令，这样跑得快，后续的很多CPU延续了这种，但是现在也有些CPU没有延续这种指令，遇到这种机器， *p++就不会跑得特别快。</p>
<p>使用 *p++ 时特别要注意，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (*p != <span class="number">6</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\t%.0f\t%.0f\t\n&quot;</span>, *p++, <span class="built_in">pow</span>(*p++, <span class="number">2</span>), <span class="built_in">pow</span>(*p++, <span class="number">3</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>我们想让p在下次循环是+1，但在块里p实际上加了3次，不要这么干，很蠢。应该是：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (*p != <span class="number">6</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\t%.0f\t%.0f\t\n&quot;</span>, *p++, <span class="built_in">pow</span>(*p, <span class="number">2</span>), <span class="built_in">pow</span>(*p, <span class="number">3</span>));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> i, j;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> *p = &amp;a[<span class="number">9</span>];</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *p--);  <span class="comment">// i = 9 这个循环做完以后，p已经减出数组的地址范围了，只不过此时p--还是a[0]的地址。</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>0地址：<br />
现代OS都是多进程的OS，基本管理单元都是进程，对于一个进程，OS会给它一个虚拟的地址空间，也就是说所有的程序在运行时都以为自己拥有一片从0地址开始的一片连续的空间，如果是32位的机器，顶就是4G。通常0地址是不能乱碰的，也就是说你的指针不应该具有0值，因此可以借助0地址碰不得这个特性来做一些事情，比如让返回的指针等于0，程序就会崩溃，借此来提示我们程序有错。</p>
<p><strong>NULL</strong>大小写敏感，是C语言预定义的一个符号，表示0地址，所以我们以后用到0地址时，用NULL即可，有的编译器不喜欢你用0来表示0地址。</p>
<p>无论指向什么类型，指针的大小都是相同的，因为都是地址。但是指向不同类型的指针是不能相互赋值的，虽然这个值是能放得下去的，如果强行这样做，比如还是上面代码举例，q=p，但是q是指向int型的指针，现在指向了一个char数组，它会把char数组当作int数组，如果我们用 *q = 0; 则char数组前四个元素都会变成0，所以为了规避用错指针，指向不同类型的指针之间不能互相赋值。</p>
<p>我们印象中C语言的指针都有类型，实际上也存在一种例外。这里涉及到通用指针，它可以指向任何类型的变量。通用指针的类型用（void *）表示，因此也称为void 指针。</p>
<p>void* 表示不知道指向什么东西的指针，计算规则与char* 相同，但是不相通，也就是不能混合去用。</p>
<p>指针也能强制类型转换，<br />
int* p=%i;<br />
void* q=(void*)p;<br />
第二句的意思就是：p还是指向int，但是我们通过q去看向i，q现在不拿i当int了，拿i那片内存上的值当void了，当它什么都不是了。</p>
<h2 id="动态内存分配"><a class="markdownIt-Anchor" href="#动态内存分配"></a> 动态内存分配</h2>
<p>数组长度一旦确定下来，就不能变了。C99可以用变量做数组定义的大小，这样我们刚定义数组的时候就没必要搞清它的长度。那C99之前呢？比如C语言二级考试，人们那时必须使用<strong>动态内存分配</strong>，调用malloc() 必须include &lt;stdlib.h&gt;，返回类型是void*，void* 即我有一个指针，指向一块内存，但是我也不知道那块内存上的类型是什么。<br />
C99可以这么干：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> number;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;number);</span><br><span class="line">    <span class="type">int</span> a[number];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>C99以前只能这么干：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> number;</span><br><span class="line">    <span class="type">int</span> *a;     <span class="comment">// C99以前定义变量只能去头部定义</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;number);</span><br><span class="line">    a = (<span class="type">int</span> *) <span class="built_in">malloc</span>(number * <span class="keyword">sizeof</span>(<span class="type">int</span>));  <span class="comment">//number就是数组的大小</span></span><br><span class="line">    <span class="comment">// 之所以能将malloc的结果赋给 a，是因为malloc函数本来返回的就是一个void*，强制类型转换一下。</span></span><br><span class="line">    <span class="comment">// 剩下的，a就能直接当数组去用了，什么a[10]……因为数组名就是一个常量指针</span></span><br><span class="line">    <span class="built_in">free</span>(a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在计算机看来，它才不care这片内存上存的是int还是double，它只知道那是一片连续的空间。</p>
<p>如果系统给我们的内存空间用完了，再去mallcoc()的时候，就会返回0或者NULL。</p>
<p>free()是和malloc()配套的一个函数。切记malloc()后，要free()，有借有还，再借不难。在还的时候，只能还申请来的空间的原始首地址，不能申请来了以后做指针运算，比如a++，最后free的时候也不管三七二十一，直接free(a)，这样程序会异常终止。或者不管p的地址是不是malloc得来的，比如让指针去指向一个int变量，然后去free§，也会终止程序。就是人家会记住你借走的原地址，所以还也要还原地址。但是，free(NULL)没问题，因为反正0地址是你不可能malloc()得到的地址，所以在free函数里面先判断，如果传进去的是个NULL，那就不做事情了。可是，有什么必要要去做这样的事情呢？因为有一个良好的习惯，定义一个指针，就初始化它为0，所以为了配合这种好习惯，就做出了这样一个机制，就在free()的函数定义里面，先做判断是不是NULL，即使是NULL，也不让它出错。如果因为一些原因，你没有去malloc§，(此时p因为初始化过，所以是NULL)就free§，这样不会出现问题.</p>
<p>指针初始化为0或NULL，表示其目前还未指向任何对象，就是说：不存放任何变量的内存地址。NULL 是一个在 stdio.h 中定义为零值的宏<br />
double * pd=NULL;     /* 等价于 pd=0 */<br />
<strong>空指针</strong>是一个特殊的指针值，也是唯一一个对任何指针类型都合法的指针值。指针变量具有空指针值，表示它当时处于闲置状态，没有指向有意义的东西。空指针用 0 表示，C语言保证这个值不会是任何对象的地址。给指针值赋零则使它不再指向任何有意义的东西。为了提高程序的<strong>可读性</strong>，标准库定义了一个与 0 等价的符号常量NULL。程序里可以写 p = 0; 或者 p = NULL; 两种写法都把p置为空指针值。相对而言，前一种写法更容易使读程序的人意识到这里是一个指针赋值。</p>
<p>如果malloc()以后不free()，就走掉了，就会留下内存漏洞，或者叫内存垃圾。但这不会对任何人造成伤害，因为，程序结束后，OS有机制会保证，曾经用过的内存会全部清楚干净，所以留下没有free的内存对于小程序来说没有问题，因为有OS擦屁股。但是做大程序就会遭殃，比如一个服务器程序，它一直在运行，那么malloc()不free()，就很容易把内存用完。</p>
<p>野指针，也就是指向不可用内存区域的指针。通常对这种指针进行操作的话，将会使程序发生不可预知的错误。 “野指针”不是NULL指针，是指向“垃圾”内存的指针。</p>
<p>如果程序定义了一个指针，就<strong>必须</strong>要<strong>立即</strong>让它指向一个我们设定的空间或者把它设为NULL，如果没有这么做，那么这个指针里的内容是不可预知的，即不知道它指向内存中的哪个空间（即野指针），它有可能指向的是一个空白的内存区域，可能指向的是已经受保护的区域，甚至可能指向系统的关键内存，如果是那样就糟了，也许我们后面不小心对指针进行操作就有可能让系统出现紊乱，死机了。所以我们必须设定一个空间让指针指向它，或者把指针设为NULL，</p>
<p>还应该注意的是，free和delete只是把指针所指的内存给释放掉，但并没有把指针本身干掉。指针p被free以后其地址仍然不变（非NULL），只是该地址对应的内存是垃圾，p成了“野指针”。如果此时不把p设置为NULL，会让人误以为p是个合法的指针。用free或delete释放了内存之后，就应立即将指针设置为NULL，防止产生“野指针”。内存被释放了，并不表示指针会消亡或者成了NULL指针（而且指针消亡了，也并不表示它所指的内存会被自动释放）</p>
<ul>
<li>动态内存分配中， malloc()获得的指针，要判断一下是否为NULL，来检测是否malloc成功，因为malloc可能申请内存失败(内存有可能不够)，比如 if (p = (int *)malloc(4 * 100)){}</li>
<li>malloc()获得的指针默认是 void * 类型，如果不强制转成 int * ,则 p++ 一次跳1个字节，如果强制转成 double * 则一次跳8个字节。</li>
</ul>
<h2 id="函数指针"><a class="markdownIt-Anchor" href="#函数指针"></a> 函数指针</h2>
<p>先问一下,函数是怎么被调用的?</p>
<p>一个C语言程序的执行过程可以认为是多个函数之间的相互调用过程，它们形成了一个或简单或复杂的<strong>调用链条</strong>。这个链条的起点是 main()，终点也是 main()。当 main() 调用完了所有的函数，它会返回一个值（例如return 0;）来结束自己的生命，从而结束整个程序。</p>
<p>当主调函数遇到被调函数时，主调函数会暂停，CPU 转而执行被调函数的代码；被调函数执行完毕后再返回主调函数，主调函数根据刚才的状态继续往下执行。</p>
<p>函数是一个可以重复使用的代码块，CPU 会一条一条地挨着执行其中的代码，当遇到函数调用时，CPU 首先要记录下当前代码块中下一条代码的地址（假设地址为 0X1000），然后跳转到另外一个代码块，执行完毕后再回来继续执行 0X1000 处的代码。整个过程相当于 CPU 开了一个小差，暂时放下手中的工作去做点别的事情，做完了再继续刚才的工作。</p>
<p>从上面的分析可以推断出，在所有函数之外进行加减乘除运算、使用 if…else 语句、调用一个函数等都是没有意义的，这些代码位于整个函数调用链条之外，永远都不会被执行到。C语言也禁止出现这种情况，会报语法错误.</p>
<p>如果在程序中定义一个函数,在编译时会把函数的源代码转换为可执行代码,并为其分配一段存储空间,这段内存空间有一个起始地址,也称函数的入口地址,每次调用函数时都从该地址入口开始执行此函数代码.</p>
<p>函数名就是函数的指针,它代表函数的起始地址.</p>
<p>可以定义一个指向函数的指针变量，用于存放某一函数的起始地址，这就意味着该指针变量指向该函数，例如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> (*p)(<span class="type">int</span>, <span class="type">int</span>);</span><br></pre></td></tr></table></figure>
<p>p是一个指向函数的指针变量，它可以指向一个<strong>返回类型为整型</strong>，且<strong>形参是两个int型</strong>的函数。因为()的优先级比 * 高，所以必须给 *p 加括号，否则p会先和后面的(int, int)结合，这就变成函数p的声明了。</p>
<ul>
<li>指向函数的指针，不能随便指，只能指向在定义时指定的类型的函数</li>
<li>在给函数指针赋值时，只需给出函数名即可，因为函数名也是函数指针。</li>
<li>在用函数指针调用函数时，只需将 (* p) 代替函数名即可，p为指针变量名，在 (* p) 后面需要写上实参。注意得加 * 号。</li>
<li>对于指向函数的指针进行自加自减等指针运算是毫无意义的，</li>
<li>函数指针和多维数组的指针定义方式，在于(* p)后面的是[]还是()，int (* p)[4] 和 int (* p)(int);</li>
</ul>
<p>其实函数指针和PHP里面的可变函数比较像，但是在C里面用的不多。</p>
<h1 id="day-12"><a class="markdownIt-Anchor" href="#day-12"></a> Day 12</h1>
<h2 id="字符串"><a class="markdownIt-Anchor" href="#字符串"></a> 字符串</h2>
<p>char word[] = {‘H’,‘e’,‘l’,‘l’,‘o’,’!’}，这不是C语言的字符串，因为不能用字符串的方式去做计算，只是一个字符数组。如果要定义一个C语言的字符串，需要在字符数组的最后一位加上 ‘\0’，’\0’就是表示0，就是表示整数值的0，也可也把单引号去掉，把\去掉，就放一个0，也一样的意思，但是一般还是用’\0’，因为’\0’一定只占1个字节，0可能是个int，占4个字节。一定不要用’0’，这是个字符，内部用ASCII码值48。</p>
<p>因为有这个0，也就使得该字符数组变成了可以参与字符串运算的字符串。</p>
<p>这个0标志字符串的结束，但它不是字符串的一部分，计算字符串长度的时候不包括0。为什么要加0，是因为后面很多C语言的字符串函数需要这个0来表示字符串结束。</p>
<p>C语言字符串在内存中存在的形式，就是数组。访问的形式可以是数组也可以是指针。</p>
<p>C语言中用单引号引起的，表示一个char类型，即表示字符类型常量，当在单引号中出现<strong>两个及以上</strong>字符时或<strong>没有</strong>字符时，编译出错。双引号引起表示一个字符串常量，可以表示0到多个字符组成的字符串。<br />
字符常量使用单引号，字符串常量使用双引号表示；<br />
两者均支持转义字符表示；</p>
<ul>
<li>‘A’ 表示单个字符大写字母A，占用1个字节空间</li>
<li>“A” 表示字符串，该字符串只有1个大写字母A组成，占用2个字节空间，每个字符串末尾自动会加上一个空字符 ‘\0’</li>
<li>空字符常量使用转义符号 '\0’表示，空白字符串使用双引号表示 “”，单引号中不能没有东西。</li>
</ul>
<p>char buffer[] = “”; 这个数组的长度只有1<br />
char buffer[100] = “”;则buffer[] = ‘\0’</p>
<p>C语言中的单引号和双引号含义迥异，用单引号引起的一个字符实际上代表一个整数，整数值对应于该字符在编译器采用的字符集中的序列值，因此，采用ASCII字符集的编译器而言，‘a’的含义与0141或97严格一致。<br />
而用双引号引起的字符串，代表的却是一个指向<strong>无名数组</strong>起始字符的<strong>指针</strong>，该<strong>无名数组</strong>被双引号之间的字符以及一个额外的二进制值为零的字符‘\0’初始化。比如“Hello”，这个字符串字面量，编译器看到它，会把它变成一个字符数组(无名数组)，并在末尾替你加上一个’\0’，并把它放在某个地方。</p>
<p>要定义字符串变量可以有以下3种形式：</p>
<ul>
<li>char* str = “Hello”  这种形式的意思是有个叫str的指针，它指向一个字符数组，字符数组里面放的内容是&quot;Hello&quot;。双引号引起的字符串，代表的本来就是一个指向<strong>无名数组</strong>起始字符的<strong>指针</strong>，相当于把这个指向无名字符数组的指针赋给str。</li>
<li>char word[] = “Hello”,这种形式就是我自己就定义了一个字符数组，这个数组就在这，我给它初始化了。</li>
<li>char line[10] = “Helllo”，和第2个差不多，只不过定义这个字符数组时给了10个字节，然后“Hello”在这里占据6个字节，编译器会自动生成一个结尾的’\0’，并且，剩下的空位都会自动补’\0’</li>
</ul>
<p>注意:</p>
<ul>
<li>
<p>char c[] = {“I am”}; 等价于 char c[] = {‘I’, ’ ', ‘a’, ‘m’};</p>
</li>
<li>
<p>char c[] = “I am”; 等价于 char c[] = {‘I’, ’ ', ‘a’, ‘m’, ‘\0’};</p>
</li>
<li>
<p>char b[10][5] = {          //这是一个二维字符数组,所以第2个[]里的数字不能省,编译器不会替我们去数. b[][5]是可以的, 但b[10][]不行<br />
“ling”,<br />
“yi”,<br />
“er”,<br />
“san”,<br />
“si”,<br />
“wu”,<br />
“liu”,<br />
“qi”,<br />
“ba”,<br />
“jiu”</p>
<pre><code>              &#125;;
              二维字符型数组也可以这样初始化, 'ling'后面默认补个'\0', 'yi'后面补仨这样, 输出的话直接,printf(&quot;%s&quot;, b[0]); 即可
</code></pre>
</li>
<li>
<p>char *b[] = {                 //这是一个一维数组,所以[]里面不用加数字,编译器会替我们去数.<br />
“ling”,<br />
“yi”,<br />
“er”,<br />
“san”,<br />
“si”,<br />
“wu”,<br />
“liu”,<br />
“qi”,<br />
“ba”,<br />
“jiu”</p>
<pre><code>              &#125;;
              这不是二维字符型数组,这是一个一维指针数组, 其中每一个指针指向常量池的一个字符串.定义字符串有用数组定义和指针定义两种方式, 一个const在 * 号前,一个在 * 号后,上一种定义二维字符型数组,就是把字符串放在这里, 与数组名放在一起, 这一种方式就是把字符串放在常量池,这里只放指针. 输出的话也是直接,printf(&quot;%s&quot;, b[0]); 即可
</code></pre>
</li>
</ul>
<p>C语言中，如果有2个相邻的字符串，中间没有任何其它东西，编译器会自动把两个字符串连接起来成为1个字符串。</p>
<p>C语言的字符串，是以字符数组的形式存在的，所以：</p>
<ul>
<li>不能用加减乘除这样的运算符对字符串做运算，后来的语言，比如JAVA，比如python,比如php，提供一些简单的运算符处理字符串。C语言出现在上世纪70年代的早期，那时计算机更多的是做数值运算，80 年代才更多地去做信息处理，信息处理和数值运算最大的不同就是前者处理的是文字，后者处理的是数字。所以新的语言会更关注处理文字也就是处理字符串的能力。</li>
</ul>
<p>字符串唯一特殊的地方就是字符串字面量可以用来初始字符数组。这是C语言唯一表现它懂字符串的地方。</p>
<h2 id="字符串常量"><a class="markdownIt-Anchor" href="#字符串常量"></a> 字符串常量</h2>
<p>我们定义一个字符串常量。并让指针s指向它，我们有：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *s = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">    s[<span class="number">0</span>] = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Here!s[0]=%c\n&quot;</span>, s[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编译能过，但是运行会报错。这是为什么呢？我们想看看这个无名数组存在哪了，于是我们写：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *s = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">    <span class="type">char</span> *s2 = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;i=%p\n&quot;</span>, &amp;i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s=%p\n&quot;</span>, s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s2=%p\n&quot;</span>, s2);</span><br><span class="line"><span class="comment">//    s[0] = &#x27;B&#x27;;</span></span><br><span class="line"><span class="comment">//    printf(&quot;Here!s[0]=%c\n&quot;, s[0]);</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&amp;i=<span class="number">00000059247f</span>fa8c</span><br><span class="line">s=<span class="number">00007f</span>f6e247a000</span><br><span class="line">s2=<span class="number">00007f</span>f6e247a000</span><br></pre></td></tr></table></figure>
<p>我们发现，i这个本地变量和这个无名数组存放位置的地址相差很大，现在的情况就是，i和s和s2都存在一块，但是s和s2所指向的那个无名字符数组存放的很远，它其实存放在程序的代码段，而且是只读的，如果对代码段的东西进行改写，OS会有一个保护机制会让你的程序崩溃掉，因为OS怕你做坏事情，所以实际上char *s在char前面有一个const，即等价于const char *s，由于历史原因，编译器接受缺省const的写法。</p>
<p>代码段这个东西在我们学PHP的时候接触过，讲内存有以下几个分区：</p>
<ol>
<li>栈区</li>
<li>代码段</li>
<li>数据段</li>
<li>堆区</li>
</ol>
<p>如果你想定义一个能修改的字符串，那应该用数组去定义，如：<br />
char s[] = “Hello World”<br />
区别就是，上一个是指针，指针说它要去指向存在代码段的一个无名字符数组。这个是一个数组，它把存在遥远的代码段的字符数组拷贝过来，存在自己这，和本地变量存在一起。于是我们写：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *s = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">    <span class="type">char</span> *s2 = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">    <span class="type">char</span> s3[] = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s=%p\n&quot;</span>, s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s2=%p\n&quot;</span>, s2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;i=%p\n&quot;</span>, &amp;i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s3=%p\n&quot;</span>, s3);</span><br><span class="line"></span><br><span class="line">    s3[<span class="number">0</span>] = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;s3[0]=%c&quot;</span>, s3[<span class="number">0</span>]);</span><br><span class="line"><span class="comment">//    s[0] = &#x27;B&#x27;;</span></span><br><span class="line"><span class="comment">//    printf(&quot;Here!s[0]=%c\n&quot;, s[0]);</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s=<span class="number">00007f</span>f74d15a000</span><br><span class="line">s2=<span class="number">00007f</span>f74d15a000</span><br><span class="line">&amp;i=<span class="number">000000</span>a3e25ffcd0</span><br><span class="line">s3=<span class="number">000000</span>a3e25ffcd4</span><br><span class="line">s3[<span class="number">0</span>]=B</span><br></pre></td></tr></table></figure>
<p>可以看到s3存放的地址和i的地址很近。也能去修改字符串。</p>
<p>那么当我们定义一个字符串时，我们用哪一种形式呢？</p>
<p>如果要构造一个字符串，用数组；<br />
如果要处理一个字符串，用指针；</p>
<p>有的教科书说C语言的字符串是char*，这个说法不对，字符串可以表达为char*的形式，但是char *不一定是字符串，本意是指向字符类型的指针。只有它指向的<strong>字符数组</strong>结尾有’\0’才能说它所指的是字符串。</p>
<h2 id="字符串输入输出"><a class="markdownIt-Anchor" href="#字符串输入输出"></a> 字符串输入输出</h2>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *t = <span class="string">&quot;title&quot;</span>;</span><br><span class="line"><span class="type">char</span> *s;</span><br><span class="line">s = t;</span><br></pre></td></tr></table></figure>
<p>我们是可以这样赋值的，我们之前说过，已经定义好的数组之间不能相互赋值，因为数组名通常是一个常量指针。但是指向字符数组的指针可以这样相互赋值</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> t[] = <span class="string">&quot;title&quot;</span>;</span><br><span class="line">    <span class="type">char</span> s[<span class="number">10</span>];</span><br><span class="line">    s = t;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样编译就会报错，但是下面这样依然是可行的：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> t[] = <span class="string">&quot;title&quot;</span>;</span><br><span class="line">    <span class="type">char</span> *s;</span><br><span class="line">    s = t;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p>可以见得，用字符数组的方式定义字符串有个坏处，就是不能相互赋值，因为数组名是一个常量指针。同时我们也得知，</p>
<ol>
<li>用指针去定义字符串，默认是一个const char*s，不能再去修改字符串的值。因为这种方式其实是一个指向常量池中一个字符串的指针。但是不能用指针去定义其他类型的数组，虽然数组名是指针，但是定义数组时还是要老老实实地用 &lt;类型&gt; 变量名称[元素数量] 去定义数组，用指针定义数组的方法仅对字符串适用。</li>
<li>用数组定义字符串，默认是char *const s，不能去更改s上面存放的地址。这个特征不限于字符型数组，别的数据类型的数组也有这个特征。</li>
<li>
<ul>
<li>
<p>char b[10][5] = {                  //这是一个二维字符数组,所以第2个[]里的数字不能省,编译器不会替我们去数. b[][5]是可以的, 但b[10][]不行<br />
“ling”,<br />
“yi”,<br />
“er”,<br />
“san”,<br />
“si”,<br />
“wu”,<br />
“liu”,<br />
“qi”,<br />
“ba”,<br />
“jiu”</p>
<pre><code>           &#125;;
           二维字符型数组也可以这样初始化, 'ling'后面默认补个'\0', 'yi'后面补仨这样, 输出的话直接,printf(&quot;%s&quot;, b[0]); 即可, b[0]也是个指向一维字符数组的指针. 但这个一维字符数组它就在这,和b[0]在一起,所以我们可以去修改二维数组中元素的值
</code></pre>
</li>
<li>
<p>char *b[] = {                      //这是一个一维数组,所以[]里面不用加数字,编译器会替我们去数.<br />
“ling”,<br />
“yi”,<br />
“er”,<br />
“san”,<br />
“si”,<br />
“wu”,<br />
“liu”,<br />
“qi”,<br />
“ba”,<br />
“jiu”</p>
<pre><code>           &#125;;
           这不是二维字符型数组,这是一个一维指针数组, 其中每一个指针指向常量池的一个字符串.定义字符串有用数组定义和指针定义两种方式, 一个const在 * 号前,一个在 * 号后,上一种定义二维字符型数组,就是把字符串放在这里, 与数组名放在一起, 这一种方式就是把字符串放在常量池,这里只放指针. 输出的话也是直接,printf(&quot;%s&quot;, b[0]); 即可. 用这种方法, 我们不能通过指针去修改常量池中字符串的值
</code></pre>
</li>
</ul>
</li>
<li>char *a = “0”;<br />
gets(a);<br />
这样是不行的, 你在控制台输入一个新字符串比如&quot;China&quot;, a还是会指向&quot;0&quot;, 即不能通过a试图去把&quot;0&quot;改成&quot;China&quot;, 因为是const char *a = “0”;<br />
但是这样是可行的:<br />
char a[100] = {&quot;\0&quot;};<br />
gets(a);<br />
我们可以通过数组定义的方式去定义字符串, 这样就可以通过a去修改a指向的字符串,让其等于我们输入的字符串.</li>
<li>用指针和数组的方式分别定义字符串,还有个差异,比如 char *a = “China”; 我们通过 ++a,再输出, <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *a = <span class="string">&quot;China&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, ++a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
输出 “hina” ,a指针上的值存放的是 “China” 字符串的首地址, ++a指向常量池中&quot;China&quot;第2个元素, 把它的地址当作首地址.虽然不能通过a去修改字符数组的值,但是a自己的值可以换成别的地址.<br />
但是用数组定义的字符串不能通过自加运算符输出,因为那是 * const 指针,比如: <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> a[<span class="number">6</span>] = <span class="string">&quot;China&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, ++a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
这样写就会报错,但是可以这么写: <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> a[<span class="number">6</span>] = <span class="string">&quot;China&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, a + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
输出也是 “hina”, 因为a的值并能没有被改变, a + 1是个表达式</li>
<li>用指针定义字符串(字符型数组)的方法，不能延申到其他类型的数组，比如定义一个double类型的数组，不能写成 double *a = {0, 1, 2}; 这样写是错误的，非字符串的字符数组也不行，如char *a = {‘1’, ‘2’}; 这样写也是错的。char *a = {‘1’, ‘2’, ‘\0’}; 这样写也是错的，但是！但是！但是！ 这样写是对的：char *a = “12”;</li>
<li>但是用指针定义指针数组的方法可以延申到其他类型，比如，double *a[] = {0, 1, 2}; 这样是定义了一个指针数组，第一个元素是一个指针，存放的值是NULL，即0地址，第二个元素是一个指针，存放的值是0x1，第三个元素是一个指针，存放的值是0x2</li>
</ol>
<p>printf和scanf也能去输入或输出字符串，用格式控制符%s。</p>
<p>如果printf()用%s去输出一个字符数组且这个字符数组末尾没有’\0’，也就是想让它输出不是字符串的字符数组，那么它会在结尾处输出乱码。</p>
<p>我们想了解scanf()中%s的问题，那么先看下面的一段代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们输入 12 13，中间有一个空格或这一个tab。输出只有12，那是因为scanf()读到空格就不往下读了。那么再看下面这段代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d&quot;</span>, a, b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们输入12 13，则输出12,13，并不会读入空格并输出之，那是因为%d自动把空格或者回车当初分隔符不会读入。这种规则对于%s也同样适用。我们看下面的代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> word[<span class="number">8</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, word);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s##\n&quot;</span>, word);  <span class="comment">//这个word虽然是个指针，但是指向那个无名字符数组，%s可以把这个字符型指针指向的无名数组打印出来</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们输入Hello World，结果输出：<br />
Hello##<br />
可见和%d是一样的，都以空格回车TAB为分隔符，读到这三个字符就不读了。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> word[<span class="number">8</span>];</span><br><span class="line">    <span class="type">char</span> word2[<span class="number">8</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, word);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, word2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s##%s##\n&quot;</span>, word, word2);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们输入Hello World，结果输出：<br />
Hello##World##<br />
和%d一样，也不会读入空格。</p>
<p>scanf()函数使用空白（换行符、制表符和空格）把输入分成多个字段。 在依次把转换说明和字段匹配时跳过空白。只要在每个输入项之间输入至少一个换行符、空格或制表符即可，可以在一行或多行输入。<strong>唯一例外的是%c会读取每个字符，包括空隔符</strong>。</p>
<p>但是scanf()里面仅仅用%s是不安全的，可能我们输入的字符串长度比那个字符数组长度大，可能会造成数组越界，因此我们可以用%[width]s来控制读入字符的长度，比如%7d，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> word[<span class="number">8</span>];</span><br><span class="line">    <span class="type">char</span> word2[<span class="number">8</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%7s&quot;</span>, word);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%7s&quot;</span>, word2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s##%s##\n&quot;</span>, word, word2);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们输入12345678，输出：<br />
1234567##8##<br />
我们并没有输入空格TAB或者回车，一旦有width存在，就不是根据空格，回车，TAB作为分隔符了，而是根据width</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *<span class="built_in">string</span></span><br><span class="line"><span class="title function_">scanf</span><span class="params">(<span class="string">&quot;%s&quot;</span>, <span class="built_in">string</span>)</span>;</span><br></pre></td></tr></table></figure>
<p>这么写往往都误以为char*是字符串类型，其实是错的，string是一个指向字符类型的指针，由于没有对它初始化，所以string上面存的是那块内存原来遗留的值，我们后面把那个遗留的值当成地址传入scanf()，并输入，因此改写的是其它的内存上的值，如果那块内存上的值可以被改写，没问题，如果不能，就会报错。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *<span class="built_in">string</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, <span class="built_in">string</span>);</span><br></pre></td></tr></table></figure>
<p>这样写，也不对。string只是一个字符型指针，%s做的是把string指向的字符串打印下来。如果string没有指向任何字符串，那么%s就无能为力。</p>
<h2 id="字符串数组"><a class="markdownIt-Anchor" href="#字符串数组"></a> 字符串数组</h2>
<p>如果想写一个数组来表达很多个字符串，该怎么写呢？</p>
<ul>
<li>char **a; 表示a是一个指针，该指针指向另一个指针，那个指针指向一个字符(串)，这显然不是我们想要的。</li>
<li>char a[][n]; 表示a是一个数组，a这里面的每一个单元都是一个char[n]，每一个单元都是一个字符数组。</li>
<li>char *a[] = {“Hello”, “World”, “你好”}； 意思是，a数组里面的每一个元素都是一个指针，比如a[0]指向外面一块内存，那块内存上存放着&quot;Hello&quot;……，注意a并不是一个指向二维数组的指针.</li>
<li>char *s = “Hello World”; 这是一个指向一个一维字符串数组的指针.</li>
<li>char t[] = “title”; 一个实际长度为6的字符数组, 最后一个元素是’\0’</li>
<li></li>
</ul>
<p>字符串数组，在main()函数的参数表里也有应用，其实main函数参数表里有2个参数，一个是整数，一个是字符串数组，整数来告诉我们后面那个字符串数组里面到底有多少个字符串<br />
int main(int argc, char const *argv[])<br />
字符串数组里面这些字符串是执行这个程序是，在名字后面所跟上的东西，argv[0]就是执行时所输入的可执行程序的名字，这一点在Unix里面很有用。</p>
<h2 id="单字符输入输出"><a class="markdownIt-Anchor" href="#单字符输入输出"></a> 单字符输入输出</h2>
<p>int putchar(int c);<br />
它接收的参数虽然是int类型，但是它只能接受char范围内的int，它的返回类型也是int，表示这次它写出去了几个字符，正常情况下都是返回1，如果一些问题，它会返回EOF(End Of File)，EOF是C语言里面定义的一个宏，这个宏的值是-1，表示不能再输出东西了。</p>
<p>int getchar(void)<br />
不需要有参数，返回int是因为需要返回EOF(-1)来表示输入结束了，看下面一串代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> <span class="type">const</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> ch;</span><br><span class="line">    <span class="keyword">while</span> ((ch = getchar()) != EOF)&#123;</span><br><span class="line">        <span class="built_in">putchar</span>(ch);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;EOF\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们输入一串数字，按下回车，终端原封不动地输出我们刚刚输入的字符，getchar()只读一个字符，但是为什么我按下回车才给我回答呢？用户键盘显示器和你的程序之间还有一个程序，叫做shell。shell要做的非常基本的一件事情是，你在键盘上按的所有东西，它给你形成一个&quot;行编辑&quot;的工作，也就是说你在键盘上输入1 2 3 4 5 6……，在你按下回车之前，这些东西还没有送到你的程序那里去，都还停留在shell那里，直到你按下回车，这也是为什么我们之前使用scanf的时候，也要按下回车才行。按下回车之后，shell那里会有一个很大的缓冲区，把按下回车后送进去的东西都依次填在缓冲区。比如我们在键盘上输入的是123最后敲回车，那么缓冲区里就是123回车，接下来就是你程序的事了，如果你的程序用的是getchar()，那么getchar会一个字符一个字符地读，先读1再读2再读3。如果你的程序用到scanf(%d)，那么scanf()会把123变成一个整数一次性读入。</p>
<h2 id="函数strlen"><a class="markdownIt-Anchor" href="#函数strlen"></a> 函数strlen</h2>
<p>所有的字符串函数都是str开头,&quot;Hello&quot;占据6个字节，但是用strlen()得到的长度是5，</p>
<h2 id="函数strcmp"><a class="markdownIt-Anchor" href="#函数strcmp"></a> 函数strcmp</h2>
<p>顾名思义，cmp是compare，比较两个字符串。为什么要用函数去比较呢？能不能直接比较两个字符串？比如我们写s1 == s2，编译会给warning，提示数组之间的比较永远是false。为什么，因为这两个字符数组虽然上面存的值一样，但一定不是同一个地址，我们用==去比较的时候其实是在比较地址是否相同。</p>
<p>用大于小于号，比较的是字符串的<strong>首地址</strong>大小，而不是字符串的大小。<br />
char arr1[] = “abcdef”;<br />
char arr2[] = “abc”;<br />
比较的是&quot;abcdef&quot;中a的地址和&quot;abc&quot;中a的地址。</p>
<p>字符串变量比较不能直接用==，但是可以用<strong>变量地址</strong>和<strong>字符串</strong>用==比较，如果地址相同，字符串会相等。char *str1 = “hello”;和”hello”的地址是相同的，所以返回结果相等。</p>
<p>但是字符型变量char可以直接拿比较运算符比较大小，因为它本质是整型。</p>
<p>int strcmp(const char *s1, const char *s2)<br />
C语言标准并没有具体规定 strcmp() 函数的返回值是多少，大多数编译器选择了以下两种方案：</p>
<ol>
<li>返回两个字符串的差值，即找到两个字符串中首个不相等的字符，然后返回这两个字符的差值；</li>
<li>返回 -1、0 或者 +1；-1表示s1 &lt; s2；+1表示s1 &gt; s2</li>
</ol>
<p>返回0表明两个字符串是相等的，</p>
<p>两个字符串自左向右逐个字符相比（按 ASCII 值大小相比较），直到出现<strong>不同的字符</strong>或遇 <strong>\0</strong> 为止</p>
<h2 id="函数strcpy"><a class="markdownIt-Anchor" href="#函数strcpy"></a> 函数strcpy</h2>
<p>char *strcpy(char *restrict dst, const char *restrict src)</p>
<p>第一个参数是目的，第二个参数是源。</p>
<p>返回一个字符指针，这个返回的字符指针就是dst</p>
<p>在源字符串还未确定下来时，我们想提前在程序里面写好一个复制一个字符串的语句，常见的操作是：<br />
char* dst = (char*) malloc(strlen(src)+1)<br />
stcpy(dst, src);</p>
<p>这个函数参数表里面有C99新的关键字restrict，意思是两个字符串不能重叠，什么是重叠？比如我想把s1拷贝给s2，重叠的话就是，s1和s2在内存上存储的位置有部分是重合的。原因是现代函数的设计不光要考虑功能实现，还要考虑很多额外因素，strcpy()是处理字符串中使用及其广泛的函数，在这个函数上面如果有一点点性能的小改进，可能对整个程序，整个系统，甚至对整个互联网都有巨大的提升，因此人们在这上面做了很多的努力来使得这个函数效率的提升，其中一个努力就是，当你的计算机是多核的，它可能把这个拷贝工作分成好几段，让每一个核做其中一段，此时必须要求拷贝出来的字符串不能和原来的字符串重叠，否则分段拷贝就会有冲突。</p>
<h2 id="函数strcat"><a class="markdownIt-Anchor" href="#函数strcat"></a> 函数strcat</h2>
<p>char* strcat(char *restrict s1, const char *restict s2);<br />
把s2拷贝到s1的后面去，接成一个长字符串，并返回s1，前提是s1必须要有足够的空间。</p>
<p>strcpy 和 strcat 都有可能出现安全问题，因为我们不知道目标字符串的大小是多少，会不会越界，所以我们要用它俩的升级版本，strncpy和strncat，同时在参数表里多了一个n，这个n表示能够拷贝或连接过去多少个字符，如果多了怎么办？掐掉，越界是不可能越界的。</p>
<p>对于strcmp()也有带n的版本，strncmp()，这个n并不是解决安全问题的，这个n表示，我只想比较前n个字符串是否相等。</p>
<h2 id="字符串搜索函数"><a class="markdownIt-Anchor" href="#字符串搜索函数"></a> 字符串搜索函数</h2>
<p>char* strchr(const char <em>s, int c);<br />
我要在这个字符串中，从左边寻找c第一次出现的位置。<br />
char</em> strrchr(const char *s, int c);<br />
我要在这个字符串中，从右边寻找c第一次出现的位置。<br />
返回NULL表示没找到，返回非NULL，则返回一个指针，指向你要找的那个字符。</p>
<p>我们如何寻找一个字符串中的第二个字符呢？可以用一个小套路：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> <span class="type">const</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> s[] = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    <span class="type">char</span> *p = <span class="built_in">strchr</span>(s, <span class="string">&#x27;l&#x27;</span>);</span><br><span class="line">    <span class="type">char</span> *q = <span class="built_in">strchr</span>(p+<span class="number">1</span>, <span class="string">&#x27;l&#x27;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, q);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们运行，输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">llo</span><br><span class="line">lo</span><br></pre></td></tr></table></figure>
<p>我们实现了找到一个字符串其中一个字符第2次出现位置。同时我们也明白了printf()中的%s输出字符串的原理，字符串的输出是通过字符数组名找到其字符数组起始地址,然后<strong>逐个输出</strong>其中的字符，遇到字符’\0’就停止输出。字符型指针p指向一个字符数组(字符串)，p的值就是这个字符数组首元素的地址，然后%s根据p的值找到p所指向的字符数组，并输出之。我们在找第2个字符位置时就利用了这个原理，先把p+1，此时通过指针运算，p+1的值就是&quot;llo&quot;第二个’l’的地址，让字符指针q的值等于第2个’l’的地址，那么下一个%s在输出时，就是根据q的值找到q所指向的字符数组&quot;lo&quot;，并输出之。%s是把指针上的地址当作<strong>所要输出的字符串</strong>的第一个元素的地址。</p>
<p>%s输出字符串是这个原理我们很能理解，因为数组传进函数只能传进它的指针(字符串就是一个数组)，函数再通过指针来找到外面的数组。scanf()也是一个函数，也不能例外。</p>
<p>我们如果想把&quot;Hello&quot;后面的&quot;llo&quot;复制给另一个字符数组，这样干：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> <span class="type">const</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> s[] = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    <span class="type">char</span> *p = <span class="built_in">strchr</span>(s, <span class="string">&#x27;l&#x27;</span>);</span><br><span class="line">    <span class="type">char</span> *t = (<span class="type">char</span> *) <span class="built_in">malloc</span>(<span class="built_in">strlen</span>(p)+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(t, p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, t);</span><br><span class="line">    <span class="built_in">free</span>(t);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>还有一个小技巧，就是我们想截取&quot;Hello&quot;前面的&quot;He&quot;，这么干：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> <span class="type">const</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> s[] = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    <span class="type">char</span> *p = <span class="built_in">strchr</span>(s, <span class="string">&#x27;l&#x27;</span>);</span><br><span class="line">    <span class="type">char</span> c = *p;</span><br><span class="line">    *p = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="type">char</span> *t = (<span class="type">char</span>*) <span class="built_in">malloc</span>(<span class="built_in">strlen</span>(s)+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(t, s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, t);</span><br><span class="line">    <span class="built_in">free</span>(t);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, s);</span><br><span class="line">    *p = c;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, s);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">He</span><br><span class="line">He</span><br><span class="line">Hello</span><br></pre></td></tr></table></figure>
<p>字符指针p指向&quot;llo&quot;，p的值是该字符串首元素的地址，所以*p即第一个’l’。通过 *p把’l’换成’\0’，就把字符串s&quot;Hello&quot;从’\0’那里截断了，所以s现在是&quot;He&quot;，再将s拷贝给t，事成之后，利用 *p将还原。</p>
<p>strstr()是在一个字符串中寻找一个字符串的。<br />
strcasestr()也是在一个字符串中寻找一个字符串，只不过会忽略大小写。</p>
<h1 id="day13"><a class="markdownIt-Anchor" href="#day13"></a> Day13</h1>
<h2 id="枚举"><a class="markdownIt-Anchor" href="#枚举"></a> 枚举</h2>
<p>如果莪们程序当中出现一些数字，那么我们应该尽量用一些符号来表达这些数字，这样做会增加可读性。</p>
<p>如果常量一多，定义起来就很麻烦可以用枚举，它是一个用户定义的数据类型，它用关键字enum声明：<br />
enum 枚举类型名字{名字0，名字1，……};<br />
有时候也会把枚举类型名字忽略掉，因为有时候名字不重要。我们通常要的是大括号{}里面的名字，他们就是常量符号，他们的类型只能是int。</p>
<p>当我们需要一些可以排列起来的常量值时，比如月份，日期等等，定义枚举的意义就是给了这些常量值的名字。</p>
<p>enum color {red, yellow, green};</p>
<p>这是在声明一种新的数据类型，这种数据类型叫做color，我们可以把它像int float类型一样去用，当然，用的时候要带上enum(后面的语言有的可以不带enum)，比如：</p>
<p>enum color {red, yellow, green};<br />
void f(eum color c);</p>
<p>实际上，C语言内部，enum就是int型，所以每一个枚举变量是可以当作int型输入输出的，比如：</p>
<p>enum color {red, yellow, green};<br />
void f(eum color c);<br />
enum color t = red;<br />
enum color d = 100;<br />
scanf(&quot;%d&quot;, &amp;t);<br />
f(t);</p>
<p>关于枚举有一个小套路，看看下面代码：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">COLOR</span> &#123;</span>RED, YELLOW, GREEN, NumCOLORS&#125;;</span><br></pre></td></tr></table></figure>
<p>NumCOLORS 恰好是3，因此我们发现，这个常量可以表达它的前面有多少个常量。可以用这个东西定义数组，可以用来遍历，等等。</p>
<p>声明枚举量时也能指定值。</p>
<p>我们在C语言里面用枚举，主要的需求是需要定义一些排比的常量，比用const方便。而不太会用它去做数据类型的事。</p>
<p>枚举有类型，宏没有类型，</p>
<p>C语言之前的语言和C语言之后的语言，都有枚举，但是做的都比C语言好，枚举在C语言里面不是那么成功的东西。</p>
<h2 id="结构类型"><a class="markdownIt-Anchor" href="#结构类型"></a> 结构类型</h2>
<p>一个结构就是一个复合的数据类型，类似JAVA和python中的类。比如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">data</span>&#123;</span></span><br><span class="line">        <span class="type">int</span> month;</span><br><span class="line">        <span class="type">int</span> day;</span><br><span class="line">        <span class="type">int</span> day;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>和本地变量一样，在函数内部声明的结构类型，只能在函数内部使用。所以通常在<strong>函数外部</strong>声明结构类型，函数只要在在这个结构体声明下面，就可以使用这个结构体类型。</p>
<p>声明结构的形式：</p>
<ol>
<li>struct date today;<br />
变量名叫today，类型是struct date，struct不可缺省。</li>
<li>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line"> <span class="type">int</span> x;</span><br><span class="line"> <span class="type">int</span> y;</span><br><span class="line">&#125; p1, p2;</span><br></pre></td></tr></table></figure>
这种情况下，p1和p2并不是结构类型的名字，它们就是前面这种结构类型的2个变量。这个结构类型没有名字。其实这种做法就是想要两个变量，p1和p2，后面不会再用到这种结构类型了、</li>
<li>更常见的是这种形式： <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line"> <span class="type">int</span> x;</span><br><span class="line"> <span class="type">int</span> y;</span><br><span class="line">&#125; p1, p2;</span><br></pre></td></tr></table></figure>
在声明新的结结构类型point的同时，还定义了2个这种类型的变量。<br />
结构类型和结构变量是2个东西，声明一个结构类型后，我们可以定义出很多结构变量来。<br />
类型不分配内存，但是变量分配内存。<br />
结构体的成员名可以与程序中的变量名相同，不会混淆。但不建议。<br />
结构体数组不是一个二维数组。</li>
</ol>
<p>2个结构体变量不能直接用比较运算符去做比较。</p>
<p>sizeof()是个静态运算符，不是一个函数，它也可以测量结构体类型和结构体变量的大小。</p>
<p>结构的初始化：<br />
有下面一个结构体：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">data</span>&#123;</span></span><br><span class="line">        <span class="type">int</span> month;</span><br><span class="line">        <span class="type">int</span> day;</span><br><span class="line">        <span class="type">int</span> day;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>
<p>struct date today = {07, 31, 2014};</p>
</li>
<li>
<p>struct date today = {.month = 07, .year = 2014};<br />
这种方式和数组初始化一样，没有被初始化的字段day自动填0。这种机制和JAVA也是一样的。</p>
<p>用.访问成员变量，这一点和JAVA也一样。出现在.左边的一定是一个结构变量，而不是一个结构类型，结构类型的虚体，结构变量才是实体。</p>
<p>数组里面有很多的单元，结构里面有很多的成员。数组的单元的必须是相同类型的，结构不必。</p>
</li>
<li>
<p>也可以直接，date.month = 7; 这样初始化。和JAVA一样。</p>
</li>
</ol>
<p>结构有一点和数组不同，对于整个结构，可以直接做赋值，取地址，也可以传递给函数参数。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span>&#123;</span></span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        <span class="type">int</span> y;</span><br><span class="line">    &#125; p1, p2;</span><br><span class="line"></span><br><span class="line">    p1 = (<span class="keyword">struct</span> point)&#123;<span class="number">5</span>, <span class="number">10</span>&#125;;</span><br><span class="line">    p1 = p2;</span><br></pre></td></tr></table></figure>
<p>数组无法做上面2中运算，数组自带const。</p>
<p>如果把p2的字段的值改了，那么p1不会跟着改，这是两个不同的结构变量，这一点和数组也不一样。</p>
<p>另外一个和数组非常不一样的地方就是，结构变量的名字，并不是结构变量的地址。数组的变量名就是数组的地址。对结构变量取地址必须使用&amp;运算符。eg.<br />
struct data *pData = &amp;today;<br />
如果把&amp;去掉，则编译报错。</p>
<h2 id="结构与函数"><a class="markdownIt-Anchor" href="#结构与函数"></a> 结构与函数</h2>
<p>结构体类型和普通的数据类型用法一样，比如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">SumEven</span><span class="params">(<span class="type">const</span> <span class="type">int</span> *a, <span class="type">int</span> len)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">SumOdd</span><span class="params">(<span class="type">const</span> <span class="type">int</span> *a, <span class="type">int</span> len)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">SumOverall</span><span class="params">(<span class="type">const</span> <span class="type">int</span> *a, <span class="type">int</span> len)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">1000</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        a[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n%d\n%d&quot;</span>, SumEven(a, <span class="number">1000</span>), SumOdd(a, <span class="number">1000</span>), SumOverall(a, <span class="number">1000</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">SumEven</span><span class="params">(<span class="type">const</span> <span class="type">int</span> *a, <span class="type">int</span> len)</span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; i += <span class="number">2</span>) &#123;</span><br><span class="line">        sum += a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">SumOdd</span><span class="params">(<span class="type">const</span> <span class="type">int</span> *a, <span class="type">int</span> len)</span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; len; i += <span class="number">2</span>) &#123;</span><br><span class="line">        sum += a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">SumOverall</span><span class="params">(<span class="type">const</span> <span class="type">int</span> *a, <span class="type">int</span> len)</span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">        sum += a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>取成员运算符 . 的优先级一定大于取地址运算符 &amp; 的优先级。</p>
<p>结构体变量传入函数传的都是值，一个字段一个字段复制给函数内部，想修改外部的结构体，最好传指针的值。</p>
<p>没有直接的方式可以一次scanf一个结构。函数怎么把函数里面的结构体传出去呢？可以return出去，也就是让函数返回类型是该结构类型。</p>
<p>如果有一个大的结构变量要传进函数，则通常的做法是传结构指针，否则既费空间，又费时间，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> month;</span><br><span class="line">    <span class="type">int</span> day;</span><br><span class="line">    <span class="type">int</span> year;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">myday</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span> *<span class="title">p</span> =</span> &amp;myday;</span><br><span class="line">(*p).month = <span class="number">12</span>;</span><br><span class="line">p-&gt;month = <span class="number">12</span>;</span><br></pre></td></tr></table></figure>
<p>最后两行是等价的，-&gt; 是一个新的运算符，和 . 的运算符地位一样，在这个运算符的左边一定是个指针，取成员运算符(指针) -&gt; 和取成员运算符(对象) .一样，优先级都高于 &amp; 和 * ,常见到 &amp;p-&gt;month 和 (*p).month 。 * 和 &amp; 运算符是平级的。</p>
<h2 id="结构中的结构"><a class="markdownIt-Anchor" href="#结构中的结构"></a> 结构中的结构</h2>
<p>结构里面的变量可以是普通数据类型，比如int float double，也可以是其他结构体类型，比如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span>&#123;</span></span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">rectangle</span>&#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">pt1</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">pt2</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">rectangle</span> <span class="title">r</span>;</span></span><br><span class="line">    r.pt1.x = <span class="number">0</span>;</span><br><span class="line">    r.pt1.y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    r.pt2.x = <span class="number">1</span>;</span><br><span class="line">    r.pt2.y = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">rectangle</span> *<span class="title">rp</span>;</span></span><br><span class="line">    rp = &amp;r;</span><br><span class="line"></span><br><span class="line">    (*rp).pt1.x = <span class="number">2</span>;</span><br><span class="line">    rp-&gt;pt1.x = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(*rp).pt1.x = 2;<br />
rp-&gt;pt1.x = 2;</p>
<p>这两句是等价的，但是注意，间接访问运算符 * 的优先级低于取成员变量运算符 . ，(*rp).pt1.x = 2; 不加()会报错，rp-&gt;pt1.x = 2; 这句话中 -&gt; 和 . 是平级的，自左向右运算的，所以无需加括号。</p>
<p>有结构数组，即数组的元素都是结构，也可以做数组结构，即结构里面有个数组。</p>
<h2 id="类型定义"><a class="markdownIt-Anchor" href="#类型定义"></a> 类型定义</h2>
<p>我们定义一个结构体变量时，总是要加上 struct 很不方便，用 typedef关键字可以摆脱 struct，它可以来声明一个已有数据类型的新名字。比如：typedef int Length;<br />
Length a, b, c;</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line"> <span class="type">int</span> x;</span><br><span class="line"> <span class="type">int</span> y;</span><br><span class="line">&#125; p1, p2;</span><br></pre></td></tr></table></figure>
<pre><code>在声明新的结结构类型point的同时，还定义了2个这种类型的变量。
</code></pre>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line"> <span class="type">int</span> x;</span><br><span class="line"> <span class="type">int</span> y;</span><br><span class="line">&#125; p1;</span><br></pre></td></tr></table></figure>
<pre><code>重载已有结构类型 point 的名字，重载为 p1 ,并没有定义新的结构变量出来。
</code></pre>
<p>typedef 可以定义数组类型</p>
<p>typedef struct TableEntry Table[ NunVertex ]; 这条语句把含有 NunVertex 个元素的结构体数组类型 重载为 Table。再比如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="type">int</span> arr[<span class="number">100</span>];</span><br><span class="line">arr a, b, c;</span><br></pre></td></tr></table></figure>
<p>其中第2句相当于a[100],b[100],c[100] ，即 arr就是  int [100] ”类型“的重载。</p>
<p>typedef *char[10] Strings<br />
这句话的意思是将一个字符型指针数组，重载为Strings</p>
<h2 id="联合"><a class="markdownIt-Anchor" href="#联合"></a> 联合</h2>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">DifferentLee</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/07/24/WengKai-C/">http://example.com/2022/07/24/WengKai-C/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">下水道灵魂画手</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/./img/DustinPoirier10.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/08/02/H-brother/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/DustinPoirier15.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">专升本H哥我的好哥哥</div></div></a></div><div class="next-post pull-right"><a href="/2022/07/24/Data-Structure-learning/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/Carol2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">陈姥姥_数据结构(1)</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/WangYouSheng.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">DifferentLee</div><div class="author-info__description">一次编译，到处运行</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/DifferentLee" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:liyiraner@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.facebook.com/profile.php?id=100083266883262" target="_blank" title="Facebook"><i class="fa-brands fa-facebook"></i></a><a class="social-icon" href="https://www.instagram.com/accounts/login/" target="_blank" title="Instagram"><i class="fa-brands fa-instagram-square"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#day-1"><span class="toc-number">1.</span> <span class="toc-text"> Day 1</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E9%97%AE%E9%A2%98"><span class="toc-number">1.1.</span> <span class="toc-text"> 计算机如何解决问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9A%84%E6%80%9D%E7%BB%B4%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.</span> <span class="toc-text"> 计算机的思维方式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AFc"><span class="toc-number">1.3.</span> <span class="toc-text"> 为什么是C</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#c%E7%AE%80%E5%8D%95%E5%8E%86%E5%8F%B2"><span class="toc-number">1.4.</span> <span class="toc-text"> C简单历史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E8%BD%AF%E4%BB%B6"><span class="toc-number">1.5.</span> <span class="toc-text"> 编程软件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#day-2"><span class="toc-number">2.</span> <span class="toc-text"> Day 2</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E4%B8%AAc%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.1.</span> <span class="toc-text"> 第一个C程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%A6%E8%A7%A3%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.2.</span> <span class="toc-text"> 详解第一个程序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%9A%E7%82%B9%E8%AE%A1%E7%AE%97"><span class="toc-number">2.3.</span> <span class="toc-text"> 做点计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89"><span class="toc-number">2.4.</span> <span class="toc-text"> 变量定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">2.5.</span> <span class="toc-text"> 变量赋值与初始化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8Fvs%E5%B8%B8%E9%87%8F"><span class="toc-number">2.6.</span> <span class="toc-text"> 变量VS常量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E6%95%B0"><span class="toc-number">2.7.</span> <span class="toc-text"> 浮点数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">2.8.</span> <span class="toc-text"> 表达式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#day-3"><span class="toc-number">3.</span> <span class="toc-text"> Day 3</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-number">3.1.</span> <span class="toc-text"> 运算符优先级</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E5%8F%98%E9%87%8F"><span class="toc-number">3.2.</span> <span class="toc-text"> 交换变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E5%90%88%E8%B5%8B%E5%80%BC%E5%92%8C%E9%80%92%E5%A2%9E%E9%80%92%E5%87%8F"><span class="toc-number">3.3.</span> <span class="toc-text"> 复合赋值和递增递减</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#practice"><span class="toc-number">3.4.</span> <span class="toc-text"> practice</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0%E7%9A%84%E6%95%85%E4%BA%8B"><span class="toc-number">3.5.</span> <span class="toc-text"> 0的故事</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%9A%E5%88%A4%E6%96%AD"><span class="toc-number">3.6.</span> <span class="toc-text"> 做判断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E7%9A%84%E6%9D%A1%E4%BB%B6"><span class="toc-number">3.7.</span> <span class="toc-text"> 判断的条件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#day-4"><span class="toc-number">4.</span> <span class="toc-text"> Day 4</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%BE%E9%9B%B6%E8%AE%A1%E7%AE%97%E5%99%A8"><span class="toc-number">4.1.</span> <span class="toc-text"> 找零计算器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%A6%E5%88%99%E7%9A%84%E8%AF%9D"><span class="toc-number">4.2.</span> <span class="toc-text"> 否则的话</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#if%E8%AF%AD%E5%8F%A5%E5%86%8D%E6%8E%A2"><span class="toc-number">4.3.</span> <span class="toc-text"> if语句再探</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E7%9A%84if-else"><span class="toc-number">4.4.</span> <span class="toc-text"> 嵌套的if-else</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%A7%E8%81%94%E7%9A%84if-else"><span class="toc-number">4.5.</span> <span class="toc-text"> 级联的if-else</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#if-else%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF"><span class="toc-number">4.6.</span> <span class="toc-text"> if-else常见错误</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%B7%AF%E5%88%86%E6%94%AF"><span class="toc-number">4.7.</span> <span class="toc-text"> 多路分支</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#day-5"><span class="toc-number">5.</span> <span class="toc-text"> Day 5</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#while-%E5%BE%AA%E7%8E%AF"><span class="toc-number">5.1.</span> <span class="toc-text"> while 循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#do-while-%E5%BE%AA%E7%8E%AF"><span class="toc-number">5.2.</span> <span class="toc-text"> do-while 循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8C%9C%E6%95%B0%E6%B8%B8%E6%88%8F"><span class="toc-number">5.3.</span> <span class="toc-text"> 猜数游戏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E5%B9%B3%E5%9D%87%E6%95%B0"><span class="toc-number">5.4.</span> <span class="toc-text"> 算平均数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E9%80%86%E5%BA%8F"><span class="toc-number">5.5.</span> <span class="toc-text"> 整数逆序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for-%E5%BE%AA%E7%8E%AF"><span class="toc-number">5.6.</span> <span class="toc-text"> for 循环</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#day-6"><span class="toc-number">6.</span> <span class="toc-text"> Day 6</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E7%9A%84%E8%AE%A1%E7%AE%97%E5%92%8C%E9%80%89%E6%8B%A9"><span class="toc-number">6.1.</span> <span class="toc-text"> 循环的计算和选择</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6"><span class="toc-number">6.2.</span> <span class="toc-text"> 循环控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E7%9A%84%E5%BE%AA%E7%8E%AF"><span class="toc-number">6.3.</span> <span class="toc-text"> 嵌套的循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8E%E5%B5%8C%E5%A5%97%E7%9A%84%E5%BE%AA%E7%8E%AF%E4%B8%AD%E8%B7%B3%E5%87%BA"><span class="toc-number">6.4.</span> <span class="toc-text"> 从嵌套的循环中跳出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#c%E8%AF%AD%E8%A8%80%E6%9C%89%E5%93%AA%E4%BA%9B%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.5.</span> <span class="toc-text"> C语言有哪些基础数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%A4%E4%BA%86int%E8%BF%98%E6%9C%89%E5%A4%9A%E5%B0%91%E7%A7%8D%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.6.</span> <span class="toc-text"> 除了int还有多少种整数类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E7%9A%84%E5%86%85%E9%83%A8%E8%A1%A8%E8%BE%BE"><span class="toc-number">6.7.</span> <span class="toc-text"> 整数的内部表达</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E7%9A%84%E8%8C%83%E5%9B%B4"><span class="toc-number">6.8.</span> <span class="toc-text"> 整数的范围</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">6.9.</span> <span class="toc-text"> 整数的格式化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.10.</span> <span class="toc-text"> 选择整数类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.11.</span> <span class="toc-text"> 浮点类型</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#day-8"><span class="toc-number">7.</span> <span class="toc-text"> Day 8</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E6%95%B0%E7%9A%84%E8%8C%83%E5%9B%B4%E5%92%8C%E7%B2%BE%E5%BA%A6"><span class="toc-number">7.1.</span> <span class="toc-text"> 浮点数的范围和精度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8B"><span class="toc-number">7.2.</span> <span class="toc-text"> 字符类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#c%E8%AF%AD%E8%A8%80%E7%9A%84%E7%BC%96%E7%A0%81%E7%B3%BB%E7%BB%9F"><span class="toc-number">7.3.</span> <span class="toc-text"> C语言的编码系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%83%E9%80%B8%E5%AD%97%E7%AC%A6"><span class="toc-number">7.4.</span> <span class="toc-text"> 逃逸字符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#day-9"><span class="toc-number">8.</span> <span class="toc-text"> Day 9</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">8.1.</span> <span class="toc-text"> 类型转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E7%B1%BB%E5%9E%8B"><span class="toc-number">8.2.</span> <span class="toc-text"> 逻辑类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="toc-number">8.3.</span> <span class="toc-text"> 逻辑运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%92%8C%E9%80%97%E5%8F%B7%E8%BF%90%E7%AE%97"><span class="toc-number">8.4.</span> <span class="toc-text"> 条件和逗号运算</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#day-10"><span class="toc-number">9.</span> <span class="toc-text"> Day 10</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E8%A7%81%E5%87%BD%E6%95%B0"><span class="toc-number">9.1.</span> <span class="toc-text"> 初见函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E8%B0%83%E7%94%A8"><span class="toc-number">9.2.</span> <span class="toc-text"> 函数的定义和调用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8E%E5%87%BD%E6%95%B0%E4%B8%AD%E8%BF%94%E5%9B%9E"><span class="toc-number">9.3.</span> <span class="toc-text"> 从函数中返回</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8E%9F%E5%9E%8B"><span class="toc-number">9.4.</span> <span class="toc-text"> 函数原型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-number">9.5.</span> <span class="toc-text"> 参数传递</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E5%8F%98%E9%87%8F"><span class="toc-number">9.6.</span> <span class="toc-text"> 本地变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BA%B6%E4%BA%8B"><span class="toc-number">9.7.</span> <span class="toc-text"> 函数庶事</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#day-11"><span class="toc-number">10.</span> <span class="toc-text"> Day 11</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E8%AF%95%E6%95%B0%E7%BB%84"><span class="toc-number">10.1.</span> <span class="toc-text"> 初试数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">10.2.</span> <span class="toc-text"> 数组的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E8%BF%90%E7%AE%97"><span class="toc-number">10.3.</span> <span class="toc-text"> 数组运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-number">10.4.</span> <span class="toc-text"> 二维数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%96%E5%9C%B0%E5%9D%80%E8%BF%90%E7%AE%97"><span class="toc-number">10.5.</span> <span class="toc-text"> 取地址运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-number">10.6.</span> <span class="toc-text"> 指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">10.7.</span> <span class="toc-text"> 指针的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E4%B8%8E%E6%95%B0%E7%BB%84"><span class="toc-number">10.8.</span> <span class="toc-text"> 指针与数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E4%B8%8Econst"><span class="toc-number">10.9.</span> <span class="toc-text"> 指针与const</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88%E8%BF%90%E7%AE%97"><span class="toc-number">10.10.</span> <span class="toc-text"> 指针运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D"><span class="toc-number">10.11.</span> <span class="toc-text"> 动态内存分配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%8C%87%E9%92%88"><span class="toc-number">10.12.</span> <span class="toc-text"> 函数指针</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#day-12"><span class="toc-number">11.</span> <span class="toc-text"> Day 12</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">11.1.</span> <span class="toc-text"> 字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F"><span class="toc-number">11.2.</span> <span class="toc-text"> 字符串常量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">11.3.</span> <span class="toc-text"> 字符串输入输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%95%B0%E7%BB%84"><span class="toc-number">11.4.</span> <span class="toc-text"> 字符串数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E5%AD%97%E7%AC%A6%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="toc-number">11.5.</span> <span class="toc-text"> 单字符输入输出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0strlen"><span class="toc-number">11.6.</span> <span class="toc-text"> 函数strlen</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0strcmp"><span class="toc-number">11.7.</span> <span class="toc-text"> 函数strcmp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0strcpy"><span class="toc-number">11.8.</span> <span class="toc-text"> 函数strcpy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0strcat"><span class="toc-number">11.9.</span> <span class="toc-text"> 函数strcat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%90%9C%E7%B4%A2%E5%87%BD%E6%95%B0"><span class="toc-number">11.10.</span> <span class="toc-text"> 字符串搜索函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#day13"><span class="toc-number">12.</span> <span class="toc-text"> Day13</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-number">12.1.</span> <span class="toc-text"> 枚举</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">12.2.</span> <span class="toc-text"> 结构类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%B8%8E%E5%87%BD%E6%95%B0"><span class="toc-number">12.3.</span> <span class="toc-text"> 结构与函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%B8%AD%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">12.4.</span> <span class="toc-text"> 结构中的结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">12.5.</span> <span class="toc-text"> 类型定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%94%E5%90%88"><span class="toc-number">12.6.</span> <span class="toc-text"> 联合</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/09/24/Web_PHP_Learn/" title="Web程序设计"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/TaylorSwift3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Web程序设计"/></a><div class="content"><a class="title" href="/2022/09/24/Web_PHP_Learn/" title="Web程序设计">Web程序设计</a><time datetime="2022-09-24T07:42:10.000Z" title="发表于 2022-09-24 15:42:10">2022-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/19/C_Print_icon/" title="C语言控制台打印图标小技巧"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/TaylorSwift3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C语言控制台打印图标小技巧"/></a><div class="content"><a class="title" href="/2022/09/19/C_Print_icon/" title="C语言控制台打印图标小技巧">C语言控制台打印图标小技巧</a><time datetime="2022-09-18T16:00:00.000Z" title="发表于 2022-09-19 00:00:00">2022-09-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/05/CLion-Single-File-Execution/" title="解决CLion中建立多个c/cpp文件(多个main函数共存)的问题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/DustinPoirier8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="解决CLion中建立多个c/cpp文件(多个main函数共存)的问题"/></a><div class="content"><a class="title" href="/2022/09/05/CLion-Single-File-Execution/" title="解决CLion中建立多个c/cpp文件(多个main函数共存)的问题">解决CLion中建立多个c/cpp文件(多个main函数共存)的问题</a><time datetime="2022-09-05T07:08:12.000Z" title="发表于 2022-09-05 15:08:12">2022-09-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/08/30/FunctionLogin-1/" title="小作业1-登录功能(控制台)"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/DustinPoirier2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="小作业1-登录功能(控制台)"/></a><div class="content"><a class="title" href="/2022/08/30/FunctionLogin-1/" title="小作业1-登录功能(控制台)">小作业1-登录功能(控制台)</a><time datetime="2022-08-30T10:30:31.000Z" title="发表于 2022-08-30 18:30:31">2022-08-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/08/21/Java-learning/" title="韩总Java修仙"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/./img/DustinPoirier9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="韩总Java修仙"/></a><div class="content"><a class="title" href="/2022/08/21/Java-learning/" title="韩总Java修仙">韩总Java修仙</a><time datetime="2022-08-21T08:23:00.000Z" title="发表于 2022-08-21 16:23:00">2022-08-21</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/./img/DustinPoirier10.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By DifferentLee</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">见到您，我高兴坏了😍</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><script id="canvas_nest" defer="defer" color="255,255,0" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="咱,俩,谁,是,小,牛,马" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>